"use strict";(self.webpackChunkwebsitev_1=self.webpackChunkwebsitev_1||[]).push([[4119],{3905:(e,t,r)=>{r.d(t,{Zo:()=>m,kt:()=>f});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var p=a.createContext({}),s=function(e){var t=a.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},m=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,l=e.originalType,p=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),u=s(r),d=n,f=u["".concat(p,".").concat(d)]||u[d]||c[d]||l;return r?a.createElement(f,o(o({ref:t},m),{},{components:r})):a.createElement(f,o({ref:t},m))}));function f(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=r.length,o=new Array(l);o[0]=d;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[u]="string"==typeof e?e:n,o[1]=i;for(var s=2;s<l;s++)o[s]=r[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},60269:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>c,frontMatter:()=>l,metadata:()=>i,toc:()=>s});var a=r(87462),n=(r(67294),r(3905));const l={title:"Basic introduction of Terraform",description:"HashiCorp \u516c\u53f8\u6253\u9020\u7684 IaC \u5de5\u5177,\u4f7f\u7528\u8005\u900f\u904e\u53ef\u95b1\u8b80\u7684\u8a2d\u5b9a\u6a94\u4ee5\u9054\u5230\u7248\u63a7,\u91cd\u8907\u4f7f\u7528,\u5171\u4eab\u8a2d\u5b9a,\u7ba1\u7406\u672c\u5730\u7aef(on-premises resources)\u8ddf\u96f2\u7aef(cloud resources)\u7531\u4f4e\u968e\u7d44\u4ef6,\u4f8b\u5982:\u8a08\u7b97\u3001\u5b58\u5132\u3001\u7db2\u8def\u8cc7\u6e90,\u5230\u9ad8\u5c64\u7d1a\u7d44\u4ef6,\u4f8b\u5982 DNS record,SAAS \u529f\u80fd\u7b49\u7684\u7ba1\u7406.",authors:"suyuying",tags:["Terraform","IaC"]},o=void 0,i={permalink:"/blog/2023/05/15/IaC/Terraform/basic-introuduction-of-Terraform",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/IaC/Terraform/2023-05-15-basic-introuduction-of-Terraform.md",source:"@site/blog/IaC/Terraform/2023-05-15-basic-introuduction-of-Terraform.md",title:"Basic introduction of Terraform",description:"HashiCorp \u516c\u53f8\u6253\u9020\u7684 IaC \u5de5\u5177,\u4f7f\u7528\u8005\u900f\u904e\u53ef\u95b1\u8b80\u7684\u8a2d\u5b9a\u6a94\u4ee5\u9054\u5230\u7248\u63a7,\u91cd\u8907\u4f7f\u7528,\u5171\u4eab\u8a2d\u5b9a,\u7ba1\u7406\u672c\u5730\u7aef(on-premises resources)\u8ddf\u96f2\u7aef(cloud resources)\u7531\u4f4e\u968e\u7d44\u4ef6,\u4f8b\u5982:\u8a08\u7b97\u3001\u5b58\u5132\u3001\u7db2\u8def\u8cc7\u6e90,\u5230\u9ad8\u5c64\u7d1a\u7d44\u4ef6,\u4f8b\u5982 DNS record,SAAS \u529f\u80fd\u7b49\u7684\u7ba1\u7406.",date:"2023-05-15T00:00:00.000Z",formattedDate:"May 15, 2023",tags:[{label:"Terraform",permalink:"/blog/tags/terraform"},{label:"IaC",permalink:"/blog/tags/ia-c"}],readingTime:23.08,hasTruncateMarker:!0,authors:[{name:"zaxro",title:"Life is too short to live someone else's dream",url:"https://github.com/suyuying",imageURL:"https://github.com/suyuying.png",key:"suyuying"}],frontMatter:{title:"Basic introduction of Terraform",description:"HashiCorp \u516c\u53f8\u6253\u9020\u7684 IaC \u5de5\u5177,\u4f7f\u7528\u8005\u900f\u904e\u53ef\u95b1\u8b80\u7684\u8a2d\u5b9a\u6a94\u4ee5\u9054\u5230\u7248\u63a7,\u91cd\u8907\u4f7f\u7528,\u5171\u4eab\u8a2d\u5b9a,\u7ba1\u7406\u672c\u5730\u7aef(on-premises resources)\u8ddf\u96f2\u7aef(cloud resources)\u7531\u4f4e\u968e\u7d44\u4ef6,\u4f8b\u5982:\u8a08\u7b97\u3001\u5b58\u5132\u3001\u7db2\u8def\u8cc7\u6e90,\u5230\u9ad8\u5c64\u7d1a\u7d44\u4ef6,\u4f8b\u5982 DNS record,SAAS \u529f\u80fd\u7b49\u7684\u7ba1\u7406.",authors:"suyuying",tags:["Terraform","IaC"]},prevItem:{title:"Install mysql in aws linux ami",permalink:"/blog/2023/05/17/SQL/install-mysql-in-aws-linux"},nextItem:{title:"Steps to resolve web application problem",permalink:"/blog/2023/05/14/Others/steps-to-resovle-http-status"}},p={authorsImageUrls:[void 0]},s=[{value:"What is Terraform?",id:"what-is-terraform",level:2},{value:"installation",id:"installation",level:3},{value:"\u57fa\u672c\u8cc7\u6599\u578b\u614b",id:"\u57fa\u672c\u8cc7\u6599\u578b\u614b",level:3},{value:"\u57fa\u672c\u5340\u584a\u578b\u614b",id:"\u57fa\u672c\u5340\u584a\u578b\u614b",level:3},{value:"\u5e38\u898b\u57fa\u790e\u7d50\u69cb",id:"\u5e38\u898b\u57fa\u790e\u7d50\u69cb",level:3},{value:"\u5efa\u7acb EC2 \u7684\u5c0f LAB",id:"\u5efa\u7acb-ec2-\u7684\u5c0f-lab",level:3},{value:"\u57f7\u884c\u6307\u4ee4",id:"\u57f7\u884c\u6307\u4ee4",level:4},{value:"\u5e38\u7528\u6307\u4ee4",id:"\u5e38\u7528\u6307\u4ee4",level:3},{value:"\u5f88\u91cd\u8981\u7684.tfstate",id:"\u5f88\u91cd\u8981\u7684tfstate",level:3},{value:"Terraform State",id:"terraform-state",level:4},{value:"local backend \u7ba1\u7406 state",id:"local-backend-\u7ba1\u7406-state",level:3},{value:"remote backend \u7ba1\u7406 state",id:"remote-backend-\u7ba1\u7406-state",level:3},{value:"\u5c0f\u7d50",id:"\u5c0f\u7d50",level:3}],m={toc:s},u="wrapper";function c(e){let{components:t,...r}=e;return(0,n.kt)(u,(0,a.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"\u4f7f\u7528 Terraform \u9996\u8981\u6ce8\u610f\u4e8b\u9805"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("highlight",{color:"#1877F2"},"apply \u4e4b\u5f8c\u770b\u5230 destroy \u6709\u4ef6\u6578,\u8acb\u7acb\u523b\u505c\u624b\uff0c\u4e26\u6309\u4e0b\u4e2d\u65b7,\u7136\u5f8c\u53bb\u627e\u5176\u4ed6\u4eba\u8a0e\u8ad6"))),(0,n.kt)("h2",{id:"what-is-terraform"},"What is Terraform?"),(0,n.kt)("p",null,"HashiCorp \u516c\u53f8\u6253\u9020\u7684 IaC \u5de5\u5177,\u4f7f\u7528\u8005\u900f\u904e\u53ef\u95b1\u8b80\u7684\u8a2d\u5b9a\u6a94\u4ee5\u9054\u5230\u7248\u63a7,\u91cd\u8907\u4f7f\u7528,\u5171\u4eab\u8a2d\u5b9a,\u7ba1\u7406\u672c\u5730\u7aef(on-premises resources)\u8ddf\u96f2\u7aef(cloud resources)\u7531\u4f4e\u968e\u7d44\u4ef6,\u4f8b\u5982:\u8a08\u7b97\u3001\u5b58\u5132\u3001\u7db2\u8def\u8cc7\u6e90,\u5230\u9ad8\u5c64\u7d1a\u7d44\u4ef6,\u4f8b\u5982 DNS record,SAAS \u529f\u80fd\u7b49\u7684\u7ba1\u7406."),(0,n.kt)("p",null,"\u57fa\u672c\u4e0a,\u5e38\u7528\u7684\u96f2\u670d\u52d9,\u4ed6\u90fd\u53ef\u4ee5\u64cd\u4f5c,\u5730\u7aef\u6a5f\u5668\u4e5f\u53ef\u4ee5\u900f\u904e terraform \u7ba1\u7406\uff01\u4ed6\u6709\u81ea\u5df1\u7684 config \u8a9e\u8a00(","*","tf),\u900f\u904e tf \u6a94\u8ddf\u5404\u5ee0\u5546\u7684 api \u505a\u4e32\u63a5,\u4e5f\u5c31\u662f\u8aaa\u539f\u672c\u4f60\u8981\u5275\u5efa instance,\u8981\u81ea\u5df1\u53bb\u7ffb aws \u7684\u6307\u4ee4,\u73fe\u5728\u53ea\u8981\u77e5\u9053\u600e\u9ebc\u8a2d\u5b9a tf \u6a94\u5c31\u597d,\u7576 terraform \u5e6b\u4f60\u628a\u6771\u897f\u5efa\u7acb\u597d,\u6703\u628a response \u7684\u8cc7\u8a0a\u5beb\u5728\u4e00\u96bb state \u6a94\u6848\uff01"),(0,n.kt)("h3",{id:"installation"},"installation"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://developer.hashicorp.com/terraform/downloads"},"\u5b98\u7db2\u5b89\u88dd"),"cover \u6240\u6709\u7528\u4f8b,\u4ee5\u4e0b\u63d0\u4f9b\u6211\u7684 lab \u74b0\u5883\u7684\u5b89\u88dd\u65b9\u5f0f,linux centos"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-jsx"},"sudo yum install -y yum-utils\nsudo yum-config-manager --add-repo https://rpm.releases.hashicorp.com/RHEL/hashicorp.repo\nsudo yum -y install terraform\n")),(0,n.kt)("p",null,"\u56e0\u70ba\u6211\u9019\u908a lab \u90fd\u6703\u7528 aws,\u6240\u4ee5\u8981\u53e6\u5916\u8a2d\u5b9a IAM \u7684\u76f8\u95dc\u8cc7\u8a0a,\u8acb\u4eba\u5e6b\u4f60\u628a\u4f60\u7684 key \u751f\u51fa\u4f86\u5427"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"set the AWS_ACCESS_KEY_ID")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"export AWS_ACCESS_KEY_ID=\n")),(0,n.kt)("ol",{start:2},(0,n.kt)("li",{parentName:"ol"},"set your secret key.")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"export AWS_SECRET_ACCESS_KEY=\n")),(0,n.kt)("h3",{id:"\u57fa\u672c\u8cc7\u6599\u578b\u614b"},"\u57fa\u672c\u8cc7\u6599\u578b\u614b"),(0,n.kt)("p",null,"HCL \u662f terraform \u516c\u53f8\u70ba\u4e86\u63d0\u5347 config \u95b1\u8b80\u6027,\u6240\u958b\u767c\u7684\u914d\u7f6e\u8a9e\u8a00,\u6a94\u540d\u662f","*",".tf, \u5c08\u9580\u7528\u65bc\u914d\u7f6e\u548c\u63cf\u8ff0\u57fa\u790e\u8a2d\u65bd\u7684\u72c0\u614b\u8ddf\u8cc7\u6e90\uff01"),(0,n.kt)("p",null,"\u5e38\u7528\u7684\u6709\u4ee5\u4e0b\u5e7e\u7a2e\u578b\u614b\u7684\u8b8a\u6578,",(0,n.kt)("highlight",{color:"#1877F2"},"String,List,Map(dict),Number,Boolean."),",\u5c0d\u5beb\u904e\u7a0b\u5f0f\u7684\u4eba\u800c\u8a00,\u5c31\u8ddf python \u57fa\u672c\u578b\u614b\u5dee\u4e0d\u591a,\u4ee5\u4e0b\u662f\u4ed6\u5011\u5728 variables.tf \u4e2d\u5e38\u7528\u5b9a\u7fa9\u65b9\u5f0f,\u70ba\u514d\u53bb\u5927\u5bb6\u8ddf\u6211\u8e29\u904e\u540c\u6a23\u7684\u5751,\u5f37\u8abf\u5e7e\u9ede:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("highlight",{color:"#1877F2"},"HCL\u8a9e\u6cd5String\u7684\u503c\u7121\u8ad6\u5982\u4f55\u90fd\u8981\u52a0\u96d9\u5f15\u865f")," ,\u6211\u81ea\u5df1\u5728\u7528 terraform cloud \u5c31\u6709\u52fe HCL \u683c\u5f0f\u4f46\u6c92\u6709\u52a0\u96d9\u5f15\u865f,\u5361\u4e86\u4e00\u500b\u5c0f\u6642\uff31")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'# String\nvariable "instance_type" {\n  description = "The type of instance to start."\n  type        = string\n  default     = "t2.micro"\n}\n\n# List\nvariable "subnet_ids" {\n  description = "A list of subnet IDs to associate with the EC2 instance"\n  type        = list(string)\n  default     = ["subnet-abcde012", "subnet-bcde012a", "subnet-fghi345a"]\n}\n# \u5982\u679c\u4f60\u9700\u8981\u5c07\u5c6c\u6027\u7d44\u7e54\u6210\u4e00\u500b\u5177\u6709\u7279\u5b9a\u985e\u578b\u548c\u7d04\u675f\u7684\u5be6\u9ad4\uff0c\u5247\u53ef\u4ee5\u4f7f\u7528\u5c0d\u8c61object\u3002\u5982\u679c\u4f60\u9700\u8981\u5c07\u9375\u6620\u5c04\u5230\u503c\uff0c\u800c\u4e0d\u9700\u8981\u7279\u5b9a\u7684\u5c6c\u6027\u7d04\u675f\uff0c\u5247\u53ef\u4ee5\u4f7f\u7528\u6620\u5c04Map\u3002\n# Map\nvariable "tags" {\n  description = "A map of tags to add to all resources"\n  type        = map(string)\n  default     = {\n    Environment = "Test"\n    Owner       = "DevOps Team"\n  }\n}\n# object\nvariable "person" {\n  type = object({\n    name    = string\n    age     = number\n    address = string\n  })\n  default = {\n    name    = "John Doe"\n    age     = 30\n    address = "123 Main St"\n  }\n}\n\n# Number\nvariable "max_size" {\n  description = "The maximum size of the autoscale group"\n  type        = number\n  default     = 5\n}\n\n# Boolean\nvariable "enable_public_ip" {\n  description = "Enable/Disable public IP on the instance"\n  type        = bool\n  default     = false\n}\n')),(0,n.kt)("h3",{id:"\u57fa\u672c\u5340\u584a\u578b\u614b"},"\u57fa\u672c\u5340\u584a\u578b\u614b"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"terraform \u5340\u584a: \u9019\u908a\u5c31\u662f\u5b9a\u7fa9 terraform \u7248\u672c\u8ddf\u4f7f\u7528\u7684\u96f2\u7aef\u5ee0\u5546\u5957\u4ef6\u7248\u672c,\u4ee5\u53ca\u662f\u4f7f\u7528 remote backend, or local backend")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'terraform {\n  required_version = ">= 0.12"  # \u5b9a\u7fa9\u6240\u9700\u7684 Terraform \u7248\u672c\n\n  required_providers {\n    aws = ">= 3.0"  # \u914d\u7f6e\u6240\u9700\u7684 AWS \u63d0\u4f9b\u8005\u7248\u672c\n    google = ">= 3.0"  # \u914d\u7f6e\u6240\u9700\u7684 Google Cloud \u63d0\u4f9b\u8005\u7248\u672c\n  }\n\n  backend "s3" {\n    bucket = "my-terraform-state"  # \u9060\u7aef\u5f8c\u7aef\u8a2d\u5b9a\uff0c\u5982 AWS S3 \u5b58\u5132\u6876\n    key    = "terraform.tfstate"\n    region = "us-west-2"\n  }\n\n  # \u6216\u8005\u4f7f\u7528\u672c\u5730\u5f8c\u7aef\n  # backend "local" {\n  #   path = "terraform.tfstate"\n  # }\n}\n')),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"provider \u5340\u584a\uff1a\u7528\u65bc\u6307\u5b9a\u6240\u4f7f\u7528\u7684\u63d0\u4f9b\u8005\uff08\u5982 AWS\u3001Azure\u3001Google Cloud \u7b49\uff09\u4ee5\u53ca\u76f8\u95dc\u7684\u914d\u7f6e\u3002\n\u901a\u5e38\u9577\u9019\u6a23,\u4ee5 aws \u70ba\u4f8b")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'provider "aws" {\n  region = data.aws_region.current.id\n  alias  = "default"\n\n  default_tags {\n    tags = local.tags\n  }\n}\n')),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"resource \u5340\u584a\uff1a\u7528\u65bc\u5b9a\u7fa9\u8981\u5275\u5efa\u7684\u8cc7\u6e90\uff0c\u4f8b\u5982 EC2 \u5be6\u4f8b\u3001S3 \u5b58\u5132\u6876\u3001VPC \u7b49\u3002\u5728 resource \u5340\u584a\u4e2d\uff0c\u60a8\u53ef\u4ee5\u6307\u5b9a\u8cc7\u6e90\u7684\u985e\u578b\u3001\u5c6c\u6027\u548c\u76f8\u95dc\u914d\u7f6e\u3002")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'resource "aws_instance" "app_server" {\n  ami           = var.ami_id\n  instance_type = "t2.micro"\n  subnet_id     = aws_subnet.example_subnet.id\n  tags = {\n    Name = "ExampleAppServerInstance"\n  }\n}\n')),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"variable \u5340\u584a\uff1a\u7528\u65bc\u5b9a\u7fa9\u8b8a\u6578\uff0c\u9019\u4e9b\u8b8a\u6578\u53ef\u4ee5\u5728 Terraform \u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528\uff0c\u4ee5\u5be6\u73fe\u53ef\u914d\u7f6e\u6027\u548c\u91cd\u7528\u6027\u3002\u5728 variable \u5340\u584a\u4e2d\uff0c\u60a8\u53ef\u4ee5\u6307\u5b9a\u8b8a\u6578\u7684\u540d\u7a31\u3001\u985e\u578b\u548c\u9810\u8a2d\u503c\u3002")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'variable "ami_id" {\n  default = "ami-0ee3e1e65adeef858"\n}\n')),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"output \u5340\u584a\uff1a\u7528\u65bc\u5b9a\u7fa9\u8981\u5f9e Terraform \u914d\u7f6e\u4e2d\u8f38\u51fa\u7684\u503c\u3002\u9019\u4e9b\u503c\u53ef\u4ee5\u4f9b\u5176\u4ed6 Terraform \u74b0\u5883\u6216\u5916\u90e8\u7cfb\u7d71\u4f7f\u7528\u3002\u5728 output \u5340\u584a\u4e2d\uff0c\u60a8\u53ef\u4ee5\u6307\u5b9a\u8981\u8f38\u51fa\u7684\u503c\u7684\u540d\u7a31\u548c\u76f8\u95dc\u8a2d\u7f6e\u3002")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'output "latest_instance_id" {\n  value = aws_instance.app_server.id\n}\n')),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"locals \u5340\u584a\uff1alocals \u5340\u584a\u53ef\u4ee5\u7528\u65bc\u5b9a\u7fa9\u591a\u500b\u672c\u5730\u8b8a\u6578,variables \u7528\u65bc\u63a5\u6536\u5916\u90e8\u50b3\u905e\u7684\u503c\uff0c\u4ee5\u5728\u90e8\u7f72\u904e\u7a0b\u4e2d\u63d0\u4f9b\u53c3\u6578\u5316\u7684\u914d\u7f6e\uff0c\u800c locals \u5247\u7528\u65bc\u5728\u914d\u7f6e\u6587\u4ef6\u5167\u90e8\u8a08\u7b97\u548c\u5132\u5b58\u4e2d\u9593\u503c.\u7c21\u8a00\u4e4b,\u4f60\u7684 config \u90fd\u6703\u5c0d variable,\u800c\u8981\u5728\u57f7\u884c\u904e\u7a0b\u4e2d\u9032\u884c\u7a0b\u5f0f\u8655\u7406\u503c,\u5c31\u53ef\u4ee5\u7528 locals.\u4ee5\u4e0b\u5c31\u5b9a\u7fa9\u4e86\u591a\u500b\u672c\u5730\u8b8a\u6578,\u4e26\u904b\u7b97\u4f7f\u7528\uff01")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'locals {\n  tags = {\n    created-by = "eks-workshop-v2"\n    env        = local.environment_name\n  }\n\n  prefix           = "eks-workshop"\n  environment_name = var.environment_suffix == "" ? local.prefix : "${local.prefix}-${var.environment_suffix}"\n  shell_role_name  = "${local.environment_name}-shell-role"\n  map_roles = [for i, r in var.eks_role_arns : {\n    rolearn  = r\n    username = "additional${i}"\n    groups   = ["system:masters"]\n  }]\n}\n')),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"data \u5340\u584a,\u4e3b\u8981\u662f\u62ff\u4f86\u52d5\u614b\u67e5\u8a62\u8cc7\u6599,\u7136\u5f8c\u53ef\u4ee5\u4f5c\u70ba\u7a0b\u5f0f\u57f7\u884c\u904e\u7a0b\u4e2d\u7684\u4e2d\u7e7c\u8b8a\u6578")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'data "aws_ami" "latest_ami" {\n  most_recent = true\n\n  filter {\n    name   = "name"\n    values = ["amzn2-ami-hvm-*"]\n  }\n\n  filter {\n    name   = "virtualization-type"\n    values = ["hvm"]\n  }\n\n  filter {\n    name   = "root-device-type"\n    values = ["ebs"]\n  }\n\n  owners = ["amazon"]\n\n}\n')),(0,n.kt)("h3",{id:"\u5e38\u898b\u57fa\u790e\u7d50\u69cb"},"\u5e38\u898b\u57fa\u790e\u7d50\u69cb"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"main.tf\uff1a\u4e3b\u8981\u7684 Terraform \u8a2d\u5b9a\u6a94\u3002\u901a\u5e38\u5305\u542b\u5b9a\u7fa9\u57fa\u790e\u8a2d\u65bd\u7684 Terraform \u8cc7\u6e90\u914d\u7f6e\u3002"),(0,n.kt)("li",{parentName:"ul"},"variables.tf\uff1a\u8b8a\u6578\u5b9a\u7fa9\u6a94\u6848\u3002\u9019\u88e1\u5b9a\u7fa9\u4e86 Terraform \u4f7f\u7528\u7684\u8b8a\u6578\uff0c\u4f8b\u5982 AWS \u5bc6\u9470\u3001\u8cc7\u6e90\u547d\u540d\u7b49\u3002\u9019\u4e9b\u8b8a\u6578\u53ef\u4ee5\u5728\u5176\u4ed6\u6a94\u6848\u4e2d\u4f7f\u7528\uff0c\u4ee5\u63d0\u4f9b\u66f4\u9748\u6d3b\u7684\u914d\u7f6e\u9078\u9805\u3002"),(0,n.kt)("li",{parentName:"ul"},"outputs.tf\uff1a\u8f38\u51fa\u5b9a\u7fa9\u6a94\u6848\u3002\u9019\u88e1\u7531\u4f7f\u7528\u8005\u5b9a\u7fa9\u8981 Terraform \u8f38\u51fa\u7684\u503c\uff0c\u4f8b\u5982 IP \u4f4d\u5740\u3001URL \u6216\u5176\u4ed6\u8cc7\u6e90\u5c6c\u6027\u3002\u9019\u4e9b\u503c\u53ef\u4ee5\u4f9b\u5176\u4ed6\u7cfb\u7d71\u6216\u6a21\u7d44\u4f7f\u7528,\u662f\u9078\u64c7\u6027\u7684\uff01"),(0,n.kt)("li",{parentName:"ul"},"terraform.tfvars\uff1a\u8b8a\u6578\u503c\u6a94\u6848\u3002\u5728\u9019\u88e1\u53ef\u4ee5\u6307\u5b9a\u8b8a\u6578\u7684\u5177\u9ad4\u503c\uff0c\u4ee5\u4f9b Terraform \u4f7f\u7528\u3002\u9019\u662f\u4e00\u500b\u53ef\u9078\u7684\u6a94\u6848\uff0c\u53ef\u4ee5\u65b9\u4fbf\u5730\u7ba1\u7406\u8b8a\u6578\u7684\u503c\uff0c\u907f\u514d\u786c\u7de8\u78bc\u654f\u611f\u8cc7\u8a0a\u3002"),(0,n.kt)("li",{parentName:"ul"},"provider.tf\uff1a\u63d0\u4f9b\u8005\u914d\u7f6e\u6a94\u6848\u3002\u9019\u88e1\u6307\u5b9a\u4e86 Terraform \u4f7f\u7528\u7684\u63d0\u4f9b\u8005\uff0c\u4f8b\u5982 AWS\u3001Azure\u3001Google Cloud \u7b49\u3002\u53ef\u4ee5\u5728\u9019\u88e1\u914d\u7f6e\u63d0\u4f9b\u8005\u7684\u76f8\u95dc\u8a8d\u8b49\u548c\u8a2d\u5b9a\u3002"),(0,n.kt)("li",{parentName:"ul"},"modules/\uff1a\u6a21\u7d44\u76ee\u9304\u3002\u9019\u500b\u76ee\u9304\u7528\u65bc\u5b58\u653e\u81ea\u5b9a\u7fa9\u7684 Terraform \u6a21\u7d44\u3002\u6a21\u7d44\u662f\u53ef\u91cd\u7528\u7684\u7a0b\u5f0f\u78bc\u584a\uff0c\u7528\u65bc\u5efa\u7acb\u548c\u7ba1\u7406\u7279\u5b9a\u985e\u578b\u7684\u57fa\u790e\u8a2d\u65bd\u8cc7\u6e90\u3002"),(0,n.kt)("li",{parentName:"ul"},"environments/\uff1a\u74b0\u5883\u76ee\u9304\u3002\u9019\u500b\u76ee\u9304\u901a\u5e38\u7528\u65bc\u5340\u5206\u4e0d\u540c\u74b0\u5883\uff08\u4f8b\u5982 dev\u3001staging\u3001prod\uff09\u7684 Terraform \u8a2d\u5b9a\u3002\u6bcf\u500b\u74b0\u5883\u76ee\u9304\u4e2d\u53ef\u4ee5\u6709\u81ea\u5df1\u7684 main.tf\u3001variables.tf \u548c\u5176\u4ed6\u76f8\u95dc\u6a94\u6848\u3002"),(0,n.kt)("li",{parentName:"ul"},"terraform.state\uff1a\u9019\u500b\u6a94\u6848\u4e0d\u8981\u505a\u7248\u63a7,\u4e5f\u4e0d\u8981\u4e82 VIM,\u4e5f\u4e0d\u662f\u7531\u4f7f\u7528\u8005\u7522\u751f\uff01\u4e3b\u8981\u662f apply \u6642\u6703\u7522\u751f\u7531 terraform \u5957\u4ef6\u7522\u751f\uff01\u6703\u53bb\u6bd4\u5c0d ","*",".tf \u8ddf\u8a72\u6a94\u6848\u7684\u5340\u5225\u53bb\u5efa\u7acb\u9810\u8a08\u66f4\u65b0\u898f\u5283\u3002")),(0,n.kt)("h3",{id:"\u5efa\u7acb-ec2-\u7684\u5c0f-lab"},"\u5efa\u7acb EC2 \u7684\u5c0f LAB"),(0,n.kt)("p",null,"\u9019\u908a\u7684 lab \u6703\u5efa\u7acb vpc,\u5207\u5272 subnet,\u4e26\u5efa\u7acb\u4e00\u53f0 ec2,\u4e26\u628a\u5efa\u7acb\u5f8c\u8cc7\u8a0a\u900f\u904e output.tf \u5370\u51fa,\u57fa\u672c\u4e0a\u5c31\u662f",(0,n.kt)("a",{parentName:"p",href:"https://developer.hashicorp.com/terraform/tutorials/aws-get-started/infrastructure-as-code"},"\u5b98\u7db2\u6559\u5b78\u7c21\u5316\u7248"),"."),(0,n.kt)("p",null,"\u5efa\u7acb\u8cc7\u6599\u593e"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"mkdir -p learn-terraform-aws-instance\ncd learn-terraform-aws-instance\n")),(0,n.kt)("p",null,"\u5efa\u7acb\u4ee5\u4e0b\u6a94\u6848"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="provider.tf"',title:'"provider.tf"'},'terraform {\n  required_providers {\n    aws = {\n      source  = "hashicorp/aws"\n      version = "~> 4.16"\n    }\n  }\n\n  required_version = ">= 1.2.0"\n}\n\n\n')),(0,n.kt)("p",null,"provider.tf \u6703\u5b9a\u7fa9\u4f7f\u7528\u7684 provider \u4f86\u6e90\u8ddf\u7248\u672c.\u9019\u908a\u6307\u5b9a\u4e86\u4f7f\u7528 hashicorp/aws \u63d0\u4f9b\u8005\u7684\u7248\u672c ~> 4.16,\u4ee3\u8868\u4e0d\u80fd\u4f7f\u7528 4.17 \u6216\u4efb\u4f55\u975e 4.16 \u7248\u672c.\u53e6\u5916\u5fc5\u8981\u7684 Terraform \u7248\u672c\u70ba >= 1.2.0\uff0c\u9019\u610f\u5473\u8457\u9700\u8981\u81f3\u5c11 1.2.0 \u7248\u672c\u7684 Terraform\u3002"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="main.tf"',title:'"main.tf"'},'provider "aws" {\n  region  = "us-west-1"\n}\ndata "aws_ami" "latest_ami" {\n  most_recent = true\n\n  filter {\n    name   = "name"\n    values = ["amzn2-ami-hvm-*"]\n  }\n\n  filter {\n    name   = "virtualization-type"\n    values = ["hvm"]\n  }\n\n  filter {\n    name   = "root-device-type"\n    values = ["ebs"]\n  }\n\n  owners = ["amazon"]\n\n}\n\nresource "aws_vpc" "example" {\n  cidr_block = "10.0.0.0/16"\n}\nresource "aws_subnet" "example_subnet" {\n  vpc_id            = aws_vpc.example.id\n  availability_zone = "us-west-1a"\n  cidr_block        = "10.0.0.0/24"\n}\n\n\nresource "aws_instance" "app_server" {\n  ami           = data.aws_ami.latest_ami.id\n  instance_type = "t2.micro"\n  subnet_id     = aws_subnet.example_subnet.id\n  tags = {\n    Name = "ExampleAppServerInstance"\n  }\n}\n')),(0,n.kt)("p",null,"main.tf \u6703\u5b9a\u7fa9\u8cc7\u6e90\u72c0\u614b,\u9019\u908a\u503c\u7684\u5e36\u5165\u53ef\u4ee5\u7528\u8b8a\u6578\u4e5f\u53ef\u4ee5\u7528\u56fa\u5b9a\u5beb\u6b7b\u7684,\u4ee5\u4e0b\u8b1b\u89e3\u5404 block \u505a\u7684\u4e8b\uff01"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},'provider \u5340\u584a:\u8207\u7279\u5b9a\u57fa\u790e\u8a2d\u65bd\u5e73\u53f0\uff08\u5982 AWS\u3001Azure\u3001GCP\uff09\u9032\u884c\u4ea4\u4e92\u7684\u63d2\u4ef6,\u9996\u5148\u4ee5 provider "aws"\u5b9a\u7fa9 aws \u8cc7\u6e90\u5efa\u7acb\u5340\u57df.')),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"data \u5340\u584a:\u67e5\u8a0a\u8cc7\u6599\u7528,\u56e0\u70ba\u61f6\u5f97\u4e0a\u7db2\u67e5\u8a62 us-west-1 \u7684 linux \u7248 ami,\u6240\u4ee5\u4f7f\u7528 data \u53bb\u5340\u584a\u67e5\u8a62\u6700\u65b0 ami.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"resource \u5340\u584a:\u5b9a\u7fa9\u8cc7\u6e90"),(0,n.kt)("p",{parentName:"li"},'3.1 \u56e0\u70ba instance \u5efa\u7f6e\u6642\u8981\u9078\u5b9a\u7db2\u6bb5,\u6240\u4ee5\u900f\u904e resource "aws_vpc" "example"\u6307\u5b9a VPC \u7db2\u6bb5'),(0,n.kt)("p",{parentName:"li"},"3.2 \u7531 vpc \u4e2d\u9032\u884c\u7db2\u6bb5\u5207\u5272,\u9019\u908a\u56e0\u70ba\u662f demo \u5c31\u4e0d\u5206 public \u8ddf private \u4e86.public \u8ddf private \u5340\u5225\u5728\u65bc public \u7db2\u6bb5\u6703\u6709 Igw,\u4e26\u900f\u904e aws \u767c\u7684\u96a8\u6a5f public ip \u6216\u81ea\u5df1\u7684 Eip \u53bb\u8ddf\u5916\u754c\u505a\u9023\u7dda,\u901a\u5e38\u7528\u65bc\u9700\u8981\u5c0d\u5916\u9023\u63a5\u7684\u8cc7\u6e90\uff0c\u4f8b\u5982 Web \u4f3a\u670d\u5668\u6216\u516c\u958b\u53ef\u8a2a\u554f\u7684\u61c9\u7528\u7a0b\u5f0f,\u800c private subnet \u5247\u662f\u4e0d\u6703\u6709\u5c0d\u5916 ip,\u8981\u9023\u5916\u90fd\u662f\u900f\u904e NAT,\u800c\u8ddf\u5167\u90e8\u8cc7\u6e90\u6703\u4e92\u901a,\u901a\u5e38\u7528\u65bc\u5167\u90e8\u61c9\u7528\u7a0b\u5f0f\u3001\u8cc7\u6599\u5eab\u4f3a\u670d\u5668\u7b49\u4e0d\u9700\u8981\u76f4\u63a5\u5c0d\u5916\u516c\u958b\u7684\u8cc7\u6e90\u3002"),(0,n.kt)("p",{parentName:"li"},"3.3 \u6709\u4e86\u7db2\u6bb5,\u5c31\u53ef\u4ee5\u7528\u67e5\u8a62\u5230\u7684 ami_id \u8ddf subnet \u53bb\u5efa\u7acb instance"))),(0,n.kt)("p",null,"terraform.tfvars \u7528\u4f86\u5b9a\u7fa9\u8b8a\u6578\u7684\u503c\uff01"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="outputs.tf"',title:'"outputs.tf"'},'output "latest_ami_id" {\n  value = data.aws_ami.latest_ami.id\n}\n')),(0,n.kt)("p",null,"outputs.tf \u505a\u7684\u4e8b\u60c5,\u8981\u53bb\u7406\u89e3\u5b83\u53ef\u80fd\u7b49\u4f60 apply \u6703\u6bd4\u8f03\u6e05\u695a,\u57fa\u672c\u4e0a\u6574\u500b\u904e\u7a0b\u6703\u8a31\u6709\u591a\u503c\u662f\u4f7f\u7528\u9810\u8a2d,\u6709\u4e9b\u5247\u662f\u67e5\u8a62\u51fa\u4f86,\u6709\u4e9b\u5247\u662f\u4f60\u5beb\u7684\u8b8a\u6578. output \u53ef\u4ee5\u628a\u503c\u8f38\u51fa."),(0,n.kt)("p",null,"\u4ee5\u4e0b\u7684\u8a2d\u5b9a\u6a94\u662f\u62ff\u4f86\u5b9a\u7fa9\u8b8a\u6578\u7684,\u8acb\u7b49 output \u51fa\u4f86\u4e4b\u5f8c,\u628a data \u69d3\u6389,\u7136\u5f8c\u6539\u7528\u8b8a\u6578\u8ddf\u503c\u5e36\u5165.\u4e0d\u904e\u4f60\u4e5f\u53ef\u4ee5\u8a66\u8457\u5148\u5e36,\u4f46\u5728",(0,n.kt)("inlineCode",{parentName:"p"},"terraform init"),"\u6703\u5831\u932f"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'The Terraform configuration must be valid before initialization so that\nTerraform can determine which modules and providers need to be installed.\n\u2577\n\u2502 Error: Variables not allowed\n\u2502\n\u2502   on variables.tf line 2, in variable "ami_id":\n\u2502    2:   default = data.aws_ami.latest_ami.id\n\u2502\n\u2502 Variables may not be used here.\n')),(0,n.kt)("h4",{id:"\u57f7\u884c\u6307\u4ee4"},"\u57f7\u884c\u6307\u4ee4"),(0,n.kt)("p",null,"\u5728\u4e0a\u9762\u8a2d\u5b9a\u6a94\u5b8c\u6210\u5f8c,\u8acb\u4f9d\u5e8f\u57f7\u884c"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"terraform init\n")),(0,n.kt)("p",null,"init \u529f\u80fd\u662f\u5b89\u88dd module,\u56e0\u70ba\u662f\u9996\u6b21\u5efa\u7acb module,\u6240\u4ee5\u6703\u767c\u73fe\u8cc7\u6599\u593e\u591a\u4e86.terraform \u8cc7\u6599\u593e(\u653e module) \u8ddf.terraform.lock.hcl(\u9396\u5b9a\u4f7f\u7528\u7684 module \u7248\u865f),\u5982\u679c\u4e4b\u5f8c\u6709\u6539\u52d5\u7248\u672c,\u8981\u7528",(0,n.kt)("inlineCode",{parentName:"p"},"terraform init -upgrade"),"\u53bb\u66f4\u65b0,\u4e0d\u7136\u59cb\u7d42\u6703\u7528\u540c\u7248\u672c\uff01\u5728\u57f7\u884c terraform init -upgrade \u4e4b\u524d\uff0c\u8acb\u78ba\u4fdd\u5df2\u5099\u4efd\u60a8\u7684 Terraform \u914d\u7f6e\u6587\u4ef6\u548c\u76f8\u95dc\u7684\u72c0\u614b\u6587\u4ef6"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"terraform fmt\n")),(0,n.kt)("p",null,"fmt : \u6309\u898f\u5b9a\u5e6b\u4f60\u91cd\u65b0\u6d3e\u5217\u683c\u5f0f\u6a94\u683c\u5f0f"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"terraform validate\n")),(0,n.kt)("p",null,"\u5e6b\u4f60\u9a57\u8b49\u662f\u5426 config \u6709\u660e\u986f\u932f\u8aa4,\u4f46\u4e0d\u4ee3\u8868 vaildate \u904e\u4e86 apply \u6703\u904e"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"terraform apply\n")),(0,n.kt)("p",null,"\u5728 apply \u904e\u7a0b\u6703\u5c0d\u8a2d\u5b9a\u6a94\u7522\u751f global lock,\u907f\u514d\u51b2\u7a81\u548c\u7af6\u722d\u72c0\u614b.\u63a5\u8457\u8b80\u53d6\u5df2\u7522\u751f\u7684 state \u6a94\u6848(\u5982\u7121\u5c31\u4e0d\u7528\u6bd4\u8f03),\u4e26\u8b80\u53d6","*",".tf \u6a94,\u6bd4\u8f03\u5169\u8005\u5dee\u7570\u751f\u6210\u4e00\u500b\u8a08\u5283\uff0c\u986f\u793a\u8981\u9032\u884c\u7684\u64cd\u4f5c\u548c\u9810\u671f\u7684\u8b8a\u66f4\u3002\u7136\u5f8c\uff0c\u5b83\u6703\u8981\u6c42\u4f7f\u7528\u8005\u78ba\u8a8d\u57f7\u884c\u8a08\u5283\u3002\u5982\u78ba\u8a8d,\u5247\u6703\u57f7\u884c\u8cc7\u6e90\u65b0\u589e,\u4e26\u628a\u7d50\u679c\u72c0\u614b\u5b58\u5728 terraform.state.\n\u7136\u5f8c,\u4f60\u5c31\u6703\u767c\u73fe\u4f60\u5efa\u7acb\u4e09\u500b\u8cc7\u6e90,vpc,subnet,ec2~ \u5341\u5206\u65b9\u4fbf\u5c0d\u5427\uff5e\u8981\u522a\u9664\u53ea\u8981\u57f7\u884c",(0,n.kt)("inlineCode",{parentName:"p"},"terraform destroy"),"\u5373\u53ef\uff01"),(0,n.kt)("p",null,"\u57f7\u884c\u5b8c\u4e4b\u5f8c,\u6703\u9577\u9019\u6a23"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-jsx"},'\nApply complete! Resources: 3 added, 0 changed, 0 destroyed.\n\nOutputs:\n\nlatest_ami_id = "ami-0ee3e1e65adeef858"\n')),(0,n.kt)("p",null,"\u628a\u67e5\u5230\u5230 ami_id \u505a\u6210\u8b8a\u6578,variables.tf \u662f\u62ff\u4f86\u5b9a\u7fa9\u4f60\u6709\u54ea\u4e9b\u8b8a\u6578,\u8a72\u8b8a\u6578\u7684\u578b\u614b\u53ca\u9810\u8a2d\u503c\uff01"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="variables.tf"',title:'"variables.tf"'},'variable "ami_id" {\n  default = "ami-0ee3e1e65adeef858"\n}\n')),(0,n.kt)("p",null,"\u56e0\u70ba\u5df2\u7d93\u67e5\u5230 ami_id,\u63a5\u8457\u5c31\u5230 main.tf \u628a data \u5340\u584a\u62ff\u6389, ami_id \u6539\u7528\u8b8a\u6578\u5e36\u5165,\u4e5f\u5c31\u662f var.ami_id"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="main.tf"',title:'"main.tf"'},'provider "aws" {\n  region  = "us-west-1"\n}\n\nresource "aws_vpc" "example" {\n  cidr_block = "10.0.0.0/16"\n}\nresource "aws_subnet" "example_subnet" {\n  vpc_id            = aws_vpc.example.id\n  availability_zone = "us-west-1a"\n  cidr_block        = "10.0.0.0/24"\n}\n\n\nresource "aws_instance" "app_server" {\n  ami           = var.ami_id\n  instance_type = "t2.micro"\n  subnet_id     = aws_subnet.example_subnet.id\n  tags = {\n    Name = "ExampleAppServerInstance"\n  }\n}\n')),(0,n.kt)("p",null,"\u8a18\u5f97 outputs.tf \u4e5f\u8981\u6539"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="outputs.tf"',title:'"outputs.tf"'},'output "latest_instance_id" {\n  value = aws_instance.app_server.id\n}\n')),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="terraform.tfvars"',title:'"terraform.tfvars"'},'# \u4e4b\u5f8c\u8981\u63db\u503c,\u5c31\u6539\u9019\u908a,\u7528ami_id = "ami-xxxxxxxxxxxxxx"\u653e\u9032\u4f86\uff01\n')),(0,n.kt)("p",null,"\u6700\u5f8c,\u4f60\u5beb\u7684 output \u5340\u584a,\u67e5\u5230\u7684\u503c\u5be6\u969b\u4e0a\u6703\u88ab\u653e\u5230 terraform.state \u4fdd\u5b58,\u4f60\u53ef\u4ee5\u900f\u904e key \u4e26\u4ee5\u4e0b\u65b9\u5f0f\u67e5\u8a62\u4f60\u5728 output \u7684\u503c."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"terraform output latest_instance_id\n")),(0,n.kt)("h3",{id:"\u5e38\u7528\u6307\u4ee4"},"\u5e38\u7528\u6307\u4ee4"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"terraform init"),": \u521d\u59cb\u5316 Terraform \u5de5\u4f5c\u76ee\u9304\uff0c\u4e0b\u8f09\u6240\u9700\u7684\u63d0\u4f9b\u8005\u63d2\u4ef6\u4e26\u8a2d\u5b9a\u5de5\u4f5c\u76ee\u9304,\u6703\u7522\u751f.terraform \u8cc7\u6599\u593e,\u5e95\u4e0b\u6703\u653e module \u8cc7\u6599,\u53e6\u5916\u6703\u7522\u751f.terraform.lock.hcl \u53bb\u9396\u5b9a\u4f60\u57f7\u884c\u7684 module \u7248\u672c.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"terraform plan"),": \u6aa2\u8996 Terraform \u7684\u57f7\u884c\u8a08\u5283\uff0c\u67e5\u770b\u9810\u671f\u7684\u8b8a\u66f4\u3002"))),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"terraform plan -out=tfplan # \u57f7\u884c terraform plan \u4e26\u5c07\u8a08\u756b\u4fdd\u5b58\u5230\u4e00\u500b\u6a94\u6848\u4e2d\nterraform show -json tfplan > plan.json #\u4f7f\u7528 terraform show -json \u547d\u4ee4\u5c07\u8a08\u756b\u6a94\u6848\u8f49\u63db\u70ba JSON \u683c\u5f0f\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"terraform apply"),": \u57f7\u884c Terraform \u7684\u57f7\u884c\u8a08\u5283\uff0c\u5efa\u7acb\u6216\u4fee\u6539\u57fa\u790e\u8a2d\u65bd\u3002"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"terraform plan --refresh-only"),"- \u8b93\u4f60\u53ef\u4ee5\u5148\u6aa2\u8996\u76ee\u524d\u771f\u5be6\u7684\u8cc7\u6e90\u72c0\u614b,\u8ddf\u4f60\u7684 terraform.state \u72c0\u614b\u6a94\u5dee\u7570,\u4e26\u6c7a\u5b9a\u662f\u5426 renew \u72c0\u614b\u6a94"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"terraform apply --refresh-only"),"-\u8b93\u4f60\u53ef\u4ee5\u5148\u6aa2\u8996\u76ee\u524d\u771f\u5be6\u7684\u8cc7\u6e90\u72c0\u614b,\u8ddf\u4f60\u7684 terraform.state \u72c0\u614b\u6a94\u5dee\u7570,\u4e26\u6c7a\u5b9a\u662f\u5426 renew \u72c0\u614b\u6a94"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"terraform refresh"),":\u8acb\u5c11\u7528\uff01\u4ed6\u6703\u76f4\u63a5\u66f4\u65b0\u4f60\u7684 state \u72c0\u614b\u6a94,\u98a8\u96aa\u5728\u65bc\u4f60\u6839\u672c\u4e0d\u77e5\u9053\u6539\u8b8a\u4e86\u4ec0\u9ebc,\u5efa\u8b70\u7528 ",(0,n.kt)("inlineCode",{parentName:"li"},"terraform apply --refresh-only"),(0,n.kt)("admonition",{parentName:"li",type:"info"},(0,n.kt)("p",{parentName:"admonition"},"\u5982\u679c\u60f3\u770b",(0,n.kt)("inlineCode",{parentName:"p"},"terraform refresh"),"\u8ddf",(0,n.kt)("inlineCode",{parentName:"p"},"terraform apply --refresh-only"),"\u8a73\u7d30\u5dee\u7570,\u8981\u770b",(0,n.kt)("a",{parentName:"p",href:"https://developer.hashicorp.com/terraform/tutorials/state/refresh"},"\u5b98\u7db2\u9019\u7bc7"),",\u5b98\u7db2\u662f\u5efa\u8b70\u7528",(0,n.kt)("inlineCode",{parentName:"p"},"terraform apply --refresh-only")))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"terraform destroy"),": \u522a\u9664 Terraform \u5efa\u7acb\u7684\u57fa\u790e\u8a2d\u65bd\u3002"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"terraform validate"),": \u9a57\u8b49 Terraform \u914d\u7f6e\u6587\u4ef6\u7684\u6b63\u78ba\u6027\u3002"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"terraform fmt"),": \u683c\u5f0f\u5316 Terraform \u914d\u7f6e\u6587\u4ef6\uff0c\u4f7f\u5176\u7b26\u5408\u6163\u4f8b\u3002"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"terraform state list"),": \u5217\u51fa Terraform \u7ba1\u7406\u7684\u8cc7\u6e90\u72c0\u614b,\u5c31\u662f resource \u6709\u54ea\u4e9b\u62c9\u3002"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"terraform state show"),": \u986f\u793a\u7279\u5b9a\u8cc7\u6e90\u7684\u8a73\u7d30\u72c0\u614b\u3002"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"terraform import"),": \u5c07\u73fe\u6709\u7684\u57fa\u790e\u8a2d\u65bd\u8cc7\u6e90\u5c0e\u5165 Terraform \u7ba1\u7406\u3002"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"terraform output"),": \u986f\u793a Terraform \u8f38\u51fa\u7684\u8b8a\u6578\u503c\u3002"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"terraform workspace new"),': \u5efa\u7acb\u65b0\u7684 Terraform \u5de5\u4f5c\u5340,workspace \u4e3b\u8981\u662f\u7528\u4f86\u5340\u5206 "dev"\u3001"test" \u548c "prod" \u7684\u5de5\u4f5c\u5340.'),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"terraform workspace select"),": \u5207\u63db\u5230\u6307\u5b9a\u7684 Terraform \u5de5\u4f5c\u5340"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"terraform workspace list"),": \u5217\u51fa\u6240\u6709\u53ef\u7528\u7684 Terraform \u5de5\u4f5c\u5340"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"terraform workspace show")," \u67e5\u8a62\u73fe\u5728\u5de5\u4f5c\u5340,\u9810\u8a2d\u70ba default")),(0,n.kt)("h3",{id:"\u5f88\u91cd\u8981\u7684tfstate"},"\u5f88\u91cd\u8981\u7684.tfstate"),(0,n.kt)("p",null,"\u7576\u8cc7\u6e90\u88ab\u522a\u9664\u5f8c\u6703\u770b\u5230\u7a7a\u7684\u683c\u5f0f"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'{\n  "version": 4,\n  "terraform_version": "1.4.6",\n  "serial": 9,\n  "lineage": "117a2911-77fe-3d31-2511-d1819cceb839",\n  "outputs": {},\n  "resources": [],\n  "check_results": null\n}\n')),(0,n.kt)("p",null,"\u6709\u4ee5\u4e0b key"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'[\n  "check_results",\n  "lineage",\n  "outputs",\n  "resources",\n  "serial",\n  "terraform_version",\n  "version"\n]\n')),(0,n.kt)("p",null,"apply \u4e4b\u5f8c,\u8cc7\u6e90\u7522\u51fa,\u6703\u628a value \u586b\u9032\u53bb.\u5176\u4e2d resources \u662f\u7d00\u9304 .tf \u6a94\u6848\u7522\u751f\u7684\u8cc7\u6e90,\u5c31\u662f\u73fe\u968e\u6bb5\u9060\u7aef\u8cc7\u6e90\u72c0\u614b."),(0,n.kt)("h4",{id:"terraform-state"},"Terraform State"),(0,n.kt)("p",null,"State\uff08\u72c0\u614b\uff09\u5728 Terraform \u4e2d\u662f\u4e00\u500b\u6838\u5fc3\u6982\u5ff5\u548c\u67b6\u69cb,\u662f\u500b\u62bd\u8c61\u5c64,\u4ee3\u8868\u4e86 Terraform \u7ba1\u7406\u7684\u57fa\u790e\u8a2d\u65bd\u7684\u7576\u524d\u72c0\u614b\uff0c\u5305\u62ec\u5df2\u5275\u5efa\u7684\u8cc7\u6e90\u3001\u5c6c\u6027\u503c\u3001\u76f8\u4f9d\u95dc\u4fc2\u7b49.terraform \u652f\u63f4\u8a31\u591a\u4e0d\u540c\u7684 State \u5be6\u4f5c(\u96f2\u7aef\u5404\u5ee0,\u5730\u7aef)\uff0c\u4e0d\u540c\u5be6\u4f5c\u7684\u6a5f\u5236\u4e0d\u540c\uff0c\u4f46\u90fd\u80fd\u6eff\u8db3\u4e0a\u9762\u63cf\u8ff0\u7684 State \u6982\u5ff5."),(0,n.kt)("p",null,"\u4e3b\u8981\u4ee5\u4e0b\u5e7e\u500b\u529f\u7528"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Mapping to the Real World: Terraform \u662f\u900f\u904e.state \u88e1\u9762\u7684 metadata \u53bb\u5c0d\u61c9\u73fe\u5be6\u8cc7\u6e90."),(0,n.kt)("li",{parentName:"ul"},"Metadata: \u9664\u4e86 mapping \u5fc5\u9808\u8cc7\u6599\u5916\uff0cState \u4e5f\u5916\u5b58\u653e Terraform runtime \u9700\u8981\u7684\u8cc7\u6599"),(0,n.kt)("li",{parentName:"ul"},"Performance: \u9810\u8a2d\u4e0b,\u6bcf\u6b21 apply \u90fd\u6703\u5148\u6253\uff21\uff30\uff29\u540c\u6b65\u9060\u7aef\u67b6\u69cb,\u5728\u5c0f\u67b6\u69cb\u5982\u679c\u6bcf\u6b21\u57f7\u884c\u78ba\u8a8d state \u662f\u6c92\u554f\u984c\u7684,\u4f46\u5927\u516c\u53f8\u5c31\u6703\u9047\u5230\u8a2d\u65bd\u592a\u591a\u53ef\u80fd\u8d85\u904e API \u9650\u901f,\u6240\u4ee5\u6703\u900f\u904e-refresh=false \u76f4\u63a5\u7528\u76ee\u524d state \u6a94\u6848\u7576\u4f5c\u9060\u7aef\u72c0\u614b\uff01"),(0,n.kt)("li",{parentName:"ul"},"Syncing: \u5728\u591a\u4eba\u5354\u4f5c\u5834\u5408\u4e0b,\u5efa\u8b70\u7528",(0,n.kt)("a",{parentName:"li",href:"https://developer.hashicorp.com/terraform/language/state/remote"},"Remote state"),"\u505a\u7ba1\u7406,\u53ef\u4ee5\u505a\u5230\u9060\u7aef\u9396\u5b9a","*",".tf \u907f\u514d\u57f7\u884c\u904e\u7a0b\u4e2d\u88ab\u7de8\u8f2f.")),(0,n.kt)("p",null,"\u57fa\u672c\u4e0a backend \u5206\u6210 local \u8ddf remote,\u4e3b\u8981\u529f\u80fd\u662f"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"\u5132\u5b58 State \u7684\u8cc7\u6599,\u63d0\u4f9b\u5718\u968a\u591a\u4eba\u5354\u4f5c"),(0,n.kt)("li",{parentName:"ol"},"\u63d0\u4f9b state locking,\u907f\u514d\u591a\u4eba\u540c\u6642\u4fee\u6539,",(0,n.kt)("a",{parentName:"li",href:"https://github.com/chechiachang/terraform-30-days/blob/main/lecture/zh/04-basic-backend.md#state-locking"},"\u70ba\u4f55\u9700\u8981 state locking"),"\u53ef\u4ee5\u770b\u9019\u7bc7")),(0,n.kt)("p",null,"\u524d\u8005\u662f\u628a state \u7dad\u8b77\u5728\u5730\u7aef,\u5f8c\u8005\u662f\u628a state \u7dad\u8b77\u5728\u9060\u7aef,\u4e26\u53ef\u4ee5\u5c0d\u9060\u7aef\u7522\u751f lock,\u591a\u4eba\u5354\u4f5c(\u516c\u53f8)\u662f\u5efa\u8b70\u7528 remote \u505a\u7ba1\u7406\uff01"),(0,n.kt)("h3",{id:"local-backend-\u7ba1\u7406-state"},"local backend \u7ba1\u7406 state"),(0,n.kt)("highlight",{color:"#1877F2"},"\u5728\u500b\u4eba\u5c08\u6848\u4e0b"),",\u4f7f\u7528 Local Backend \u4f86\u7ba1\u7406 Terraform State \u5c31\u597d,\u4e5f\u5c31\u662f\u6703\u7522\u751f terraform.tfstate \u6a94\u6848 .\u63db\u53e5\u8a71\u8aaa\u7528\u9060\u7aef\u7248\u672c\u63a7\u7ba1\u4e0d\u6703\u7522\u751f\u9019\u500b\u6a94\u6848\uff01\u5982\u679c\u591a\u4eba\u5354\u4f5c\u4e0b,\u53ea\u6709\u55ae\u7d14\u7528 local backend,\u5c07 State \u5b58\u5132\u5728\u672c\u5730\uff0c\u7136\u5f8c\u900f\u904e git \u540c\u6b65\u7248\u63a7 State \uff0c\u904e\u7a0b\u6703\u5f88\u9ebb\u7169,\u7576\u4f60\u4fee\u6539\u5b8c tf \u6a94\u8981 commit,\u5728\u57f7\u884c plan \u6216 apply \u6703\u96a8\u5373\u66f4\u65b0 state,\u9019\u500b state \u4e5f\u8981 commit,\u5f88\u5bb9\u6613\u6f0f\u6389\uff01\u53e6\u5916,\u4f60\u4f7f\u7528\u7684\u6a5f\u5bc6\u8cc7\u6599\u4e5f\u6703\u5beb\u5728 state !",(0,n.kt)("h3",{id:"remote-backend-\u7ba1\u7406-state"},"remote backend \u7ba1\u7406 state"),(0,n.kt)("highlight",{color:"#1877F2"},"\u7576\u5728\u591a\u4eba\u5354\u4f5c\u6216\u5177\u6709\u5206\u4f48\u5f0f\u5718\u968a\u7684\u60c5\u6cc1\u4e0b"),"\uff0c\u5efa\u8b70\u4f7f\u7528\u9060\u7aef\u7684 State \u5b58\u5132\u5f8c\u7aef\uff0c\u4f8b\u5982 Terraform Cloud\u3001AWS S3\u3001Azure Blob Storage \u7b49.",(0,n.kt)("p",null,"\u9019\u4e9b\u9060\u7aef\u5f8c\u7aef\u63d0\u4f9b\u4e86\u66f4\u597d\u7684\u7248\u672c\u63a7\u5236,\u5354\u4f5c\u548c\u5b89\u5168\u6027\uff0c\u53ef\u4ee5\u66f4\u597d\u5730\u7ba1\u7406 Terraform State.\n\u6bcf\u500b\u96f2\u5ee0\u5546,\u90fd\u6703\u63d0\u4f9b\u7ba1\u7406 state \u7684\u65b9\u5f0f,\u4f8b\u5982 aws \u7528 s3 \u4fdd\u5b58 state,\u7528 dynamo db \u4f5c\u8a2d\u5b9a\u6a94 lock,\u4e0d\u904e\u56e0\u70ba\u773e\u591a\u539f\u56e0,\u9019\u908a\u6703\u7528 terraform cloud \u505a\u6211\u7684 remote backend."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"\u5148\u5230 terraform cloud \u5efa\u7acb\u5e33\u865f,\u4e26\u5efa\u7acb organization(\u5c08\u6848),workspace(\u5c31\u74b0\u5883,\u6703\u5206 dev,test,prod)"),(0,n.kt)("li",{parentName:"ol"},"\u4fee\u6539 provider.tf")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="provider.tf"',title:'"provider.tf"'},'terraform {\n    cloud {\n    organization = "ford-org"\n    workspaces {\n      name = "dev"\n    }\n  }\n  required_providers {\n    aws = {\n      source  = "hashicorp/aws"\n      version = "~> 4.16"\n    }\n  }\n\n  required_version = ">= 1.2.0"\n}\n')),(0,n.kt)("ol",{start:3},(0,n.kt)("li",{parentName:"ol"},"\u57f7\u884c",(0,n.kt)("inlineCode",{parentName:"li"},"terraform init"),",\u6703\u8dd1\u51fa\u8b93\u4f60\u78ba\u8a8d,\u9019\u908a\u4e3b\u8981\u5c31\u662f\u544a\u8a34\u4f60\u6703\u8f49\u79fb state \u5230\u96f2\u7aef.")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'Initializing Terraform Cloud...\nDo you wish to proceed?\n  As part of migrating to Terraform Cloud, Terraform can optionally copy your\n  current workspace state to the configured Terraform Cloud workspace.\n\n  Answer "yes" to copy the latest state snapshot to the configured\n  Terraform Cloud workspace......\n Should Terraform migrate your existing state?\n\n  Enter a value:\n')),(0,n.kt)("ol",{start:4},(0,n.kt)("li",{parentName:"ol"},"\u628a terraform.tfstate \u522a\u53bb(\u56e0\u70ba\u73fe\u5728 state \u6703\u7dad\u6301\u5728\u96f2\u7aef,\u4e0d\u5728\u5730\u7aef)")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"rm terraform.tfstate\n")),(0,n.kt)("ol",{start:5},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"In terraform cloud,add your AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY as Environment Variables")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Terraform cloud \u7684 overview \u90a3\u908a,\u53ef\u4ee5\u8a2d\u5b9a\u5f88\u591a\u6a21\u5f0f"))),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Execution Mode \u53ef\u4ee5\u8a2d\u5b9a\u6210 Remote or Local,Remote \u5c31\u9700\u8981\u5728 terraform cloud \u90a3\u908a\u53bb\u57f7\u884c\u4f60\u8981\u505a\u7684 apply,refresh \u7b49\u7b49,\u5982\u679c\u662f Local \u90a3\u5c31\u53ea\u662f\u5728\u5730\u7aef\u4e0b\u6307\u4ee4,\u7136\u5f8c\u628a state \u7dad\u8b77\u5728\u96f2\u7aef.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Apply Method \u4e5f\u5f88\u91cd\u8981,\u4f60\u9078 auto \u6703\u8b8a\u6210\u4e0d\u9700\u8981\u4eba approve,manual \u5c31\u662f\u8981\u6709\u4eba approve \u53bb\u518d\u78ba\u8a8d\u624d\u6703\u57f7\u884c\uff01")))),(0,n.kt)("h3",{id:"\u5c0f\u7d50"},"\u5c0f\u7d50"),(0,n.kt)("p",null,"\u7528 IaC \u6700\u91cd\u8981\u7684\u662f\u591a\u4eba\u5354\u4f5c,\u5982\u679c\u505a\u4e0d\u5230\u591a\u4eba\u5354\u4f5c,version control,\u56b4\u8b39\u7684\u63a7\u7ba1\u539f\u5247,\u90a3\u98a8\u96aa\u6709\u9ede\u9ad8\uff01\u9664\u975e\u55ae\u7d14\u5c31\u62ff\u4f86\u958b\u8cc7\u6e90."),(0,n.kt)("p",null,"\u900f\u904e\u4ee5\u4e0a,\u61c9\u8a72\u8981\u4e86\u89e3"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"terraform \u64cd\u4f5c\u7b2c\u4e00\u5927\u6e96\u5247"),(0,n.kt)("li",{parentName:"ul"},"terraform init,plan,apply \u6307\u4ee4\u6703\u767c\u751f\u5565\u4e8b\uff1f"),(0,n.kt)("li",{parentName:"ul"},"HCL \u8a9e\u8a00\u662f\u5565,\u6709\u54ea\u4e9b\u8cc7\u6599\u578b\u614b\uff1f"),(0,n.kt)("li",{parentName:"ul"},"terraform init -upgrade \u5565\u6642\u7528,\u53ef\u4ee5\u6307\u5b9a\u8cc7\u6e90\uff1f"),(0,n.kt)("li",{parentName:"ul"},"terraform \u898f\u5283\u6a94\u6848\u7684\u5167\u5bb9\u653e\u7f6e\u65b9\u5f0f? \u5e38\u7528\u5340\u584a\u6709\u54ea\u4e9b\uff1f"),(0,n.kt)("li",{parentName:"ul"},"\u5982\u679c\u6709\u4eba\u8dd1\u53bb\u7528 UI \u6539\u8cc7\u8a0a,\u5982\u4f55\u5237\u65b0 state \u53bb follow \u65b0\u8cc7\u8a0a?"),(0,n.kt)("li",{parentName:"ul"},"state \u662f\u5565\uff1f"),(0,n.kt)("li",{parentName:"ul"},"backend \u662f\u5565? \u4ed6\u6709\u5206\u54ea\u5169\u5927\u985e? \u591a\u4eba\u5408\u4f5c\u6709\u9078\u54ea\u7a2e\uff1f")),(0,n.kt)("p",null,"\u63a5\u4e0b\u4f86,\u6703\u8457\u91cd\u5728\u5be6\u4f5c\u4e0a,\u5305\u62ec\u62c9\u53d6\u8cc7\u6e90,module,function \u7b49."),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"\u53c3\u8003\u8cc7\u6599"),(0,n.kt)("ol",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"https://developer.hashicorp.com/terraform/intro"},"Terraform \u5b98\u7db2")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/chechiachang/terraform-30-days/blob/main/lecture/zh/01-introduction.md"},"terraform-30-days")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"https://betterprogramming.pub/terraformer-converting-infrastructure-into-reusable-terraform-code-afe543ad0b15"},"Terraformer: Converting Infrastructure Into Reusable Terraform Code")))))}c.isMDXComponent=!0}}]);
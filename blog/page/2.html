<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Zaxro blog! | Zaxro Blog</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://suyuying.github.io/img/favicon.ico"><meta data-rh="true" name="twitter:image" content="https://suyuying.github.io/img/favicon.ico"><meta data-rh="true" property="og:url" content="https://suyuying.github.io/blog/page/2"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="Zaxro blog! | Zaxro Blog"><meta data-rh="true" name="description" content="A blog for recording note of coding and daily life!"><meta data-rh="true" property="og:description" content="A blog for recording note of coding and daily life!"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://suyuying.github.io/blog/page/2"><link data-rh="true" rel="alternate" href="https://suyuying.github.io/blog/page/2" hreflang="en"><link data-rh="true" rel="alternate" href="https://suyuying.github.io/blog/page/2" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://H9WLDZ1QEH-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Zaxro Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Zaxro Blog Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Zaxro Blog" href="/opensearch.xml">



<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&amp;display=swap"><link rel="stylesheet" href="/assets/css/styles.75e441ca.css">
<link rel="preload" href="/assets/js/runtime~main.fb30eb49.js" as="script">
<link rel="preload" href="/assets/js/main.c93c9161.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/githubLogoV1.svg" alt="Zaxro" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/githubLogoV1.svg" alt="Zaxro" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Zaxro</b></a><a class="navbar__item navbar__link" href="/docs/intro">Code Note</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Daily Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/suyuying" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/07/31/Others/set-the-priority-order-of-network-through-cmd-in-linux">set the priority order of the network services through linux cmd</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/07/26/Prometheus/kibana">kibana建置,以及基礎介紹</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/07/24/Others/osi-seven-layer">basic introudction of osi 7 layer  and their use</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/07/17/Prometheus/prometheus-kibana-install">Prometheus,以及基礎介紹</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/07/17/IaC/ansible/ansible-install-filebeat">Install filebeat through ansible</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://github.com/suyuying.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2023/05/26/Python/useful-method">Useful coding method and module</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-05-26T00:00:00.000Z" itemprop="datePublished">May 26, 2023</time> · <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/suyuying" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/suyuying.png" alt="zaxro"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/suyuying" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">zaxro</span></a></div><small class="avatar__subtitle" itemprop="description">Life is too short to live someone else&#x27;s dream</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>這邊會記錄一些實用的 coding 方法</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="coding-部分">coding 部分<a href="#coding-部分" class="hash-link" aria-label="Direct link to coding 部分" title="Direct link to coding 部分">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="false-跟-none-使用時機">False 跟 None 使用時機<a href="#false-跟-none-使用時機" class="hash-link" aria-label="Direct link to False 跟 None 使用時機" title="Direct link to False 跟 None 使用時機">​</a></h3><p>False 主要做條件判斷,None 則用於表示缺少值,或變量沒有被給值的請況.
舉例來說,今天 request 想要取得資料放入變數 stock_info, 如果判斷取出來資料不合預期,或者報錯,那就適合用 None.
那 False 就是拿來表達條件成不成立的情況,例如判斷股票是否上漲,可以這樣定義變數,<code>is_price_up</code>,<code>True</code>代表上漲,<code>False</code>代表下跌.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 使用 None 表示缺少值或變量尚未被賦予任何值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name = None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if name is None:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(&quot;名字尚未被賦值&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># None 作為函式的返回值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def divide(a, b):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if b == 0:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return a / b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">result = divide(10, 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if result is None:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(&quot;無效的操作&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 使用 False 進行條件判斷</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flag = False</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if flag:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(&quot;這個條件不成立&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(&quot;這個條件成立&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="請求-api-失敗後-retry">請求 api 失敗後 retry<a href="#請求-api-失敗後-retry" class="hash-link" aria-label="Direct link to 請求 api 失敗後 retry" title="Direct link to 請求 api 失敗後 retry">​</a></h3><p>有時候對方 server 不知道啥問題,會出現報錯,過一下又好了,這邊用 while 配合數字開關,去執行 retry,不過要記得 try,except 只存在於當下文檔,不會跨文檔接 Error.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">max_retries = 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">retries = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">while retries&lt;max_retries:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        request....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return sth</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    except Exception as err:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        retries += 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        time.sleep(1)# 延遲一秒後再重新執行</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if retries==max_retries:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            telegram_bot_sendtext(f&quot;sth wrong, go cheeck&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            print(err)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return  None</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>或者配合嘗試不同 key,同時做連線 retry</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/python">Python</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about Useful coding method and module" href="/blog/2023/05/26/Python/useful-method"><b>Read More</b></a></div></footer></article><div id="disqus_thread"></div><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2023/05/24/linux-server/create-user-like-root">how to create user like root</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-05-24T00:00:00.000Z" itemprop="datePublished">May 24, 2023</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/suyuying" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/suyuying.png" alt="zaxro"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/suyuying" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">zaxro</span></a></div><small class="avatar__subtitle" itemprop="description">Life is too short to live someone else&#x27;s dream</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>以往常常用 root 連到機器操作,那最近在 lab 機踢到鐵板了,關於不要用 root 登入操作討論很多,這邊就不說原因了！</p><p>用 root 執行<code>minikube start</code>會遇到報錯</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">❌  Exiting due to DRV_AS_ROOT: The &quot;docker&quot; driver should not be used with root privileges.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>這邊看到很明顯他不讓你用 root 執行該指令.good！！</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="創建-ec2-user-並給予權限">創建 ec2-user 並給予權限<a href="#創建-ec2-user-並給予權限" class="hash-link" aria-label="Direct link to 創建 ec2-user 並給予權限" title="Direct link to 創建 ec2-user 並給予權限">​</a></h2><p>執行以下命令以創建新使用者：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">adduser ec2-user</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>設定使用者密碼</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">passwd ec2-user</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>將使用者新增至 wheel 群組，以獲得 sudo 權限：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">usermod -aG wheel ec2-user</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在 CentOS 系統中，wheel 群組通常被配置為具有特殊權限的群組，允許其成員使用 sudo 命令獲得 root 權限。通常，系統管理員可以將自己或其他需要具有管理權限的使用者新增至 wheel 群組，以便執行需要 root 權限的任務。
具有 wheel 群組成員身份的使用者可以使用 sudo 命令執行以 root 權限運行的命令。在上述命令中，-aG 選項指示 usermod 命令將使用者新增至指定的群組中而不移除已有的群組設定。</p><p>確認 sudoers 文件中的設定允許 wheel 群組的成員執行 sudo 指令。執行以下命令以編輯 sudoers 文件：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">visudo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在打開的文件中，尋找以下行：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">## Allows people in group wheel to run all commands</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># %wheel        ALL=(ALL)       ALL</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>取消註釋（刪除前面的 # 符號）並保存文件,這給在 wheel 群組內的使用者可以用 sudo 執行任何權限</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="將-ec2-user-加到-docker-群組">將 ec2-user 加到 docker 群組<a href="#將-ec2-user-加到-docker-群組" class="hash-link" aria-label="Direct link to 將 ec2-user 加到 docker 群組" title="Direct link to 將 ec2-user 加到 docker 群組">​</a></h2><p>將 ec2-user 加到 docker 群組</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">usermod -aG docker ec2-user</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>執行以下命令來使群組更改生效：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">newgrp docker</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>加入 &#x27;docker&#x27; 群組後，您可以在不使用 sudo 的情況下執行 Docker 命令</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="如何確認有加入群組">如何確認有加入群組<a href="#如何確認有加入群組" class="hash-link" aria-label="Direct link to 如何確認有加入群組" title="Direct link to 如何確認有加入群組">​</a></h2><p>看/etc/group 會看到有新增使用者</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vi /etc/group</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssh_keys:x:997:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sshd:x:74:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">postdrop:x:90:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">postfix:x:89:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker:x:996:ec2-user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cgred:x:995:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql:x:27:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apache:x:48:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nginx:x:994:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">zabbix:x:993:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tss:x:59:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stapusr:x:156:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stapsys:x:157:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stapdev:x:158:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">saslauth:x:76:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mongod:x:992:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ec2-user:x:1000:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="如何連線到-ec-user">如何連線到 ec-user<a href="#如何連線到-ec-user" class="hash-link" aria-label="Direct link to 如何連線到 ec-user" title="Direct link to 如何連線到 ec-user">​</a></h2><ol><li>確認有生成公私鑰,如無則執行以下指令生成</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssh-keygen -t rsa -b 4096</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>確認生成的公鑰位置在<code>~/.ssh/id_rsa.pub</code></p><ol start="2"><li>使用 ssh-copy-id 指令將公鑰添加到遠程 ec2-user 使用者的帳戶中。remote_host 記得換成 你的 ip(ｅｘ.我的 ip 是 192.168.185.72),記得你的私鑰(~/.ssh/id_rsa)基本上不會給別人</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssh-copy-id -i ~/.ssh/id_rsa.pub ec2-user@&lt;remote_host&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>測試連入</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssh &#x27;ec2-user@192.168.185.72&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>設定~/.ssh/config,像這樣,</li></ol><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">~/.ssh/config</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token maybe-class-name">Host</span><span class="token plain">            agent</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">ec2user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">HostName</span><span class="token plain">        </span><span class="token number" style="color:#36acaa">192.168</span><span class="token number" style="color:#36acaa">.185</span><span class="token number" style="color:#36acaa">.72</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Port</span><span class="token plain">            </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">User</span><span class="token plain">            ec2</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">IdentityFile</span><span class="token plain">    </span><span class="token operator" style="color:#393A34">~</span><span class="token operator" style="color:#393A34">/</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">ssh</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">id_rsa</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>設定 ssh 的通用配置</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Host *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ServerAliveInterval 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  HostKeyAlgorithms +ssh-rsa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  PubkeyAcceptedKeyTypes +ssh-rsa</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>Host <!-- -->*<!-- -->: 這是一個通配符，表示適用於所有的主機。在下面的設定中，這個通配符將應用於所有的主機設定。</p></li><li><p>ServerAliveInterval 10: 此選項指定了 SSH 客戶端和伺服器之間的連線活著檢查時間間隔。在此例中，設定為 10 秒，表示每 10 秒發送一次保持連線的訊號。這有助於保持連線的穩定性。</p></li><li><p>HostKeyAlgorithms +ssh-rsa: 此選項指定了客戶端支援的主機金鑰驗證演算法。+ssh-rsa 表示除了預設的驗證演算法外，還允許使用 ssh-rsa 演算法進行主機金鑰驗證。</p></li><li><p>PubkeyAcceptedKeyTypes +ssh-rsa: 此選項指定了客戶端支援的用於公鑰驗證的金鑰類型。+ssh-rsa 表示除了預設的金鑰類型外，還接受使用 ssh-rsa 金鑰進行公鑰驗證。</p></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/linux">linux</a></li></ul></div></footer></article><div id="disqus_thread"></div><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://github.com/suyuying.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2023/05/17/SQL/install-mysql-in-aws-linux">Install mysql in aws linux ami</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-05-17T00:00:00.000Z" itemprop="datePublished">May 17, 2023</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/suyuying" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/suyuying.png" alt="zaxro"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/suyuying" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">zaxro</span></a></div><small class="avatar__subtitle" itemprop="description">Life is too short to live someone else&#x27;s dream</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>因為在安裝 mysql 到 aws 的 linux ami 上,遇到一些問題,這邊紀錄整個安裝過程！</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="安裝過程">安裝過程<a href="#安裝過程" class="hash-link" aria-label="Direct link to 安裝過程" title="Direct link to 安裝過程">​</a></h2><ol><li>在<a href="https://dev.mysql.com/downloads/repo/yum/" target="_blank" rel="noopener noreferrer">官網這頁</a>挑你要的安裝檔並下載,這邊我直接列出我的版本跟指令,注意你這邊選項跟你 centos 之類版本有關！</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">wget https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>install the MySQL Yum repository configuration package, and /etc/yum.repos.d/ would show new config of mysql.</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rpm -ivh mysql57-community-release-el7-11.noarch.rpm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>從 mysql 的 RPM repo 那邊把 GPG key 拉下來,這會用於之後 package manager 安裝 mysql 驗證所安裝版本的數位簽章是否是官方發行,請執行以下指令</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rpm --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2022</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果沒有執行會報錯</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">warning: /var/cache/yum/x86_64/2/mysql57-community/packages/mysql-community-libs-compat-5.7.37-1.el7.x86_64.rpm: Header V4 RSA/SHA256 Signature, key ID 3a79bd29: NOKEY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The GPG keys listed for the &quot;MySQL 5.7 Community Server&quot; repository are already installed but they are not correct for this package.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Check that the correct key URLs are configured for this repository.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Failing package is: mysql-community-libs-compat-5.7.37-1.el7.x86_64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> GPG Keys are configured as: file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>透過 packet manager 安裝 mysql server</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum install mysql-community-server -y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="5"><li>到這部基本上就完成了,你接著要去查密碼！基本上 5.7 的服務臨時密碼,會在<code>/var/log/mysqld.log</code></li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cat /var/log/mysqld.log | grep &quot;temporary password&quot; | awk &#x27;{print $NF}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="6"><li>DONe</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="要換-data-存放位置到你新建立的-ebs">要換 data 存放位置到你新建立的 EBS<a href="#要換-data-存放位置到你新建立的-ebs" class="hash-link" aria-label="Direct link to 要換 data 存放位置到你新建立的 EBS" title="Direct link to 要換 data 存放位置到你新建立的 EBS">​</a></h3><p>因為很常會對 mysql 的硬碟做備份,並另外 mount 硬碟給他,所以也要知道如何搬運！</p><p>這邊假設我新 mount 一個硬碟在/data 資料夾底下！然後想把資料搬過來</p><ol><li>修改 my.cnf</li></ol><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">/etc/my.cnf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">mysqld</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">datadir</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">data</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">socket</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">var</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">lib</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">mysql</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">mysql</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">sock</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># </span><span class="token maybe-class-name">Disabling</span><span class="token plain"> symbolic</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">links is recommended to prevent assorted security risks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">symbolic</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">links</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">log</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">error</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">var</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">log</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">mysqld</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">log</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pid</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">file</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">var</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">run</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">mysqld</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">mysqld</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">pid</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#skip</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">grant</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">tables</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>停服務</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl stop mysqld</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>複製文件過去到/data,rsync -a 表示以遞歸方式同步目錄，保留文件屬性（如權限、時間戳）等，-v 表示顯示詳細的輸出信息。</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rsync -av /var/lib/mysql /data</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>DONe,起服務！</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl start mysqld</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="假如你今天忘記-mysql-密碼57">假如你今天忘記 mysql 密碼(5.7)<a href="#假如你今天忘記-mysql-密碼57" class="hash-link" aria-label="Direct link to 假如你今天忘記 mysql 密碼(5.7)" title="Direct link to 假如你今天忘記 mysql 密碼(5.7)">​</a></h3><ol><li>vim /etc/my.cnf 加入在最下面<code>skip-grant-tables</code></li><li><code>systemctl stop mysqld</code></li><li>登陸 mysql, <code>mysql</code></li><li>執行以下指令,這邊密碼會是<code>[$Password]</code></li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">USE mysql;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">UPDATE user SET authentication_string = password (&#x27;[$Password]&#x27;) WHERE User = &#x27;root&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flush privileges;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">quit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="5"><li>把<code>skip-grant-tables</code>拿掉</li><li><code>systemctl restart mysqld</code></li></ol></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/sql">SQL</a></li></ul></div></footer></article><div id="disqus_thread"></div><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2023/05/15/IaC/Terraform/basic-introuduction-of-Terraform">Basic introduction of Terraform</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-05-15T00:00:00.000Z" itemprop="datePublished">May 15, 2023</time> · <!-- -->24 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/suyuying" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/suyuying.png" alt="zaxro"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/suyuying" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">zaxro</span></a></div><small class="avatar__subtitle" itemprop="description">Life is too short to live someone else&#x27;s dream</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>使用 Terraform 首要注意事項</p><ol><li><span style="background-color:#1877F2;border-radius:20px;color:#fff;padding:6px;cursor:pointer">apply 之後看到 destroy 有件數,請立刻停手，並按下中斷,然後去找其他人討論</span></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-terraform">What is Terraform?<a href="#what-is-terraform" class="hash-link" aria-label="Direct link to What is Terraform?" title="Direct link to What is Terraform?">​</a></h2><p>HashiCorp 公司打造的 IaC 工具,使用者透過可閱讀的設定檔以達到版控,重複使用,共享設定,管理本地端(on-premises resources)跟雲端(cloud resources)由低階組件,例如:計算、存儲、網路資源,到高層級組件,例如 DNS record,SAAS 功能等的管理.</p><p>基本上,常用的雲服務,他都可以操作,地端機器也可以透過 terraform 管理！他有自己的 config 語言(<!-- -->*<!-- -->tf),透過 tf 檔跟各廠商的 api 做串接,也就是說原本你要創建 instance,要自己去翻 aws 的指令,現在只要知道怎麼設定 tf 檔就好,當 terraform 幫你把東西建立好,會把 response 的資訊寫在一隻 state 檔案！</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="installation">installation<a href="#installation" class="hash-link" aria-label="Direct link to installation" title="Direct link to installation">​</a></h3><p><a href="https://developer.hashicorp.com/terraform/downloads" target="_blank" rel="noopener noreferrer">官網安裝</a>cover 所有用例,以下提供我的 lab 環境的安裝方式,linux centos</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo yum install </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">y yum</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">utils</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo yum</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">config</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">manager </span><span class="token operator" style="color:#393A34">--</span><span class="token plain">add</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">repo https</span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">rpm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">releases</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">hashicorp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">com</span><span class="token operator" style="color:#393A34">/</span><span class="token constant" style="color:#36acaa">RHEL</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">hashicorp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">repo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo yum </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">y install terraform</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>因為我這邊 lab 都會用 aws,所以要另外設定 IAM 的相關資訊,請人幫你把你的 key 生出來吧</p><ol><li>set the AWS_ACCESS_KEY_ID</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export AWS_ACCESS_KEY_ID=</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>set your secret key.</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export AWS_SECRET_ACCESS_KEY=</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/terraform">Terraform</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ia-c">IaC</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about Basic introduction of Terraform" href="/blog/2023/05/15/IaC/Terraform/basic-introuduction-of-Terraform"><b>Read More</b></a></div></footer></article><div id="disqus_thread"></div><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://github.com/suyuying.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2023/05/14/Others/steps-to-resovle-http-status">Steps to resolve web application problem</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-05-14T00:00:00.000Z" itemprop="datePublished">May 14, 2023</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/suyuying" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/suyuying.png" alt="zaxro"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/suyuying" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">zaxro</span></a></div><small class="avatar__subtitle" itemprop="description">Life is too short to live someone else&#x27;s dream</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="判斷邏輯">判斷邏輯<a href="#判斷邏輯" class="hash-link" aria-label="Direct link to 判斷邏輯" title="Direct link to 判斷邏輯">​</a></h2><p>網路服務會發生問題狀況有很多,以下會用樹狀圖去做個判斷邏輯,當然這是建立在我目前遇到過的各種各樣情況上,同時也會加上判斷中會使用的方法！</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http-status-介紹">HTTP status 介紹<a href="#http-status-介紹" class="hash-link" aria-label="Direct link to HTTP status 介紹" title="Direct link to HTTP status 介紹">​</a></h3><ul><li>1xx - 資訊性狀態碼（Informational Status Codes）：表示請求已收到，並且伺服器仍在處理中.</li><li>2xx - 成功狀態碼（Success Status Codes）：表示請求成功被伺服器接受和處理.</li><li>3xx - 重新導向狀態碼（Redirection Status Codes）：表示需要進行進一步的操作以完成請求.</li><li>4xx - 用戶端錯誤 : 常見有 400 請求無效,server 無法理解,404 資源不存在</li><li>5xx（Server Error Status Codes）- 伺服器在處理請求時發生錯誤.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4xx-判斷過程及工具">4xx 判斷過程及工具<a href="#4xx-判斷過程及工具" class="hash-link" aria-label="Direct link to 4xx 判斷過程及工具" title="Direct link to 4xx 判斷過程及工具">​</a></h3><p>出現 4xx 不一定全是 client 問題,因為這與你 server 端 code 可能有關係,可能今天問題是 RD 的靜態資源放錯路徑,前端拿不到,也有可能是客戶端編碼跟 API 串接方式錯誤等等.</p><p>在排查此類問題,客戶端提供的報錯節圖,url,跟網路速度都是重要判斷依據.如果明確知道問題原因,那可以直接跳階段測試,不知道原因的話建議可以以下判斷:</p><ol><li>靜態資源未拿到: 請客戶端檢查網路環境,提供網路速度,ping 跟 traceroute 結果,是否有清 cache,server 端確認是否有此資源,跟有無 purge.</li><li>編碼問題: 這要看 server log,並請開發人員溝通.</li></ol><p>順序問題,4xx 的問題可以從 client 端開始查到 server 端.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="5xx-判斷過程跟工具">5xx 判斷過程跟工具<a href="#5xx-判斷過程跟工具" class="hash-link" aria-label="Direct link to 5xx 判斷過程跟工具" title="Direct link to 5xx 判斷過程跟工具">​</a></h3><p>主要跟 code,hardware, app&#x27;s condition,internet 都有關係,且可能彼此混雜,就 RD 覺得是 IT 設定 waf,IT 覺得是ＲＤ的程式問題. 也因此,建立判斷的過程很重要.</p><ol><li><p>hardware 問題,基本上有裝監控項可以看到性能就沒問題</p></li><li><p>internet 問題,這邊就很複雜了,如果基本的 server 端互相 telnet 都有過,那接下來就要乖乖重投檢查了,這邊先不考慮 ICP 或雲服務商掛掉,這兩個掛掉應該很多網站都會掛,那剩下就是排查 waf.排查 waf 工具有以下</p><ul><li>/etc/hosts: 綁定 DNS</li><li>web server 端的 curl.</li></ul></li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="排查流程">排查流程<a href="#排查流程" class="hash-link" aria-label="Direct link to 排查流程" title="Direct link to 排查流程">​</a></h4><p>網路發出的流程會是:<code>client</code>請求 -&gt; CDN -&gt; <code>web server</code>轉導-&gt; <code>後端程式</code>處理</p><p>所以排查順序也可以是由外到內,client 端開始查,但通常都是並行的,就是 client 端那邊查網路連線品質,server 端也同時看服務情況跟 log.</p><ul><li><p>情境一: 客戶反應說他的 request 被攔截了,原因是 xxx cors.</p><p>檢查流程：</p><ol><li>先去 CDN 看是否被 WAF 阻擋.</li><li>web server 看是否有設定 WAF 或者有設定跨域設定,及其阻擋紀錄.</li><li>後端程式規範的跨域跟安全套件.</li></ol></li><li><p>情境二: 客戶反應說他的 request 被攔截了,原因是 xxx header 的 sameorigin problem.</p><p>檢查流程：</p><ol><li>先去 CDN 看是否被 WAF 阻擋,如無,就綁定/etc/hosts 不走 CDN 直接到 web server ip 做測試</li><li>web server 檢查是否有限定 header.</li><li>從 web server 那邊直接 curl 目標 server ip:port,ex.以下指令示範</li></ol></li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v http://10.0.0.1:92</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>去看請求後端時是否就有強迫帶該 header,如有就代表程式端有帶套件去加 header</p><ol start="4"><li>code 端可能用的套件,例如 js 的<code>helmet</code>套件.</li></ol><p>在測試流程中發現限制,也不代表你一定要開放,例如,iframe 的內嵌就會牽涉到點擊劫持,跨站腳本攻擊（Cross-Site Scripting, XSS),內容竊取,會限制就會有他的原因.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="非-4xx-或-5xx">非 4xx 或 5xx<a href="#非-4xx-或-5xx" class="hash-link" aria-label="Direct link to 非 4xx 或 5xx" title="Direct link to 非 4xx 或 5xx">​</a></h3><p>這個判斷基本上就是看 F12 報錯項目了,看完之後的判斷,也是依據 4xx 或 5xx 類別去判斷.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="小結">小結<a href="#小結" class="hash-link" aria-label="Direct link to 小結" title="Direct link to 小結">​</a></h3><p>基本上,排查流程一定要有個順序,由外到內或內到外(看習慣),客戶端到 server 中間的所有事情都要一個一個查,剛開始可能因為經驗不足,到一半就會放棄了,像我就是ＸＤ,但隨著時間增加,看得問題也變多了,就要去紀錄不足之處,以及中間固定要做的事情!</p><p>如果排查一遍還是找不到問題,就要去想你過程可能漏掉哪些細項,哪些測試是可以做但你還沒做或不知道怎麼做的！</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/sre">SRE</a></li></ul></div></footer></article><div id="disqus_thread"></div><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2023/05/12/Aws/cloudwatch-cloudtrail">Basic introduction of cloudwatch and  cloudtrail</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-05-12T00:00:00.000Z" itemprop="datePublished">May 12, 2023</time> · <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/suyuying" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/suyuying.png" alt="zaxro"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/suyuying" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">zaxro</span></a></div><small class="avatar__subtitle" itemprop="description">Life is too short to live someone else&#x27;s dream</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>以下內文會提供的資訊：</p><ul><li>cloudwatch and cloudtrail 是什麼</li><li>什麼時候會用到 cloudwatch and cloudtrail？</li><li>基本建立 cloudwatch 監控 ec2 CPU</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cloudwatch">cloudwatch<a href="#cloudwatch" class="hash-link" aria-label="Direct link to cloudwatch" title="Direct link to cloudwatch">​</a></h2><p>CloudWatch 提供了即時的監控功能，可以監視 AWS 資源的狀態和性能指標,例如 CPU 使用率、網路流量和存儲使用量等。此外，CloudWatch 還可以設定警報，當資源的指標達到預先設定的閾值時，它可以發送通知。CloudWatch 還提供了日誌記錄的功能，以收集、監視和分析應用程式和資源的日誌。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="什麼時候會用到-cloudwatch">什麼時候會用到 cloudwatch<a href="#什麼時候會用到-cloudwatch" class="hash-link" aria-label="Direct link to 什麼時候會用到 cloudwatch" title="Direct link to 什麼時候會用到 cloudwatch">​</a></h3><p>一般公司會使用 Zabbix,Prometheus,這類工具做到即時監控資源功能,而日誌分析部分,可以用的工具也很多,例如 ELK</p><ul><li>那為啥要使用 cloudwatch?</li></ul><p>個人以為考量的點是建制以上服務的時間成本,當你這台在 AWS 機器可能只會開個一段時間,且網路不通到監控機台或者公司剛成立監控還沒做,以上這些情況會讓你考慮用到 cloudwatch, 一般要長期監控的伺服器還是會用 Zabbix,Prometheus 等</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/aws">AWS</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/cloudwatch">cloudwatch</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/cloudtrail">cloudtrail</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about Basic introduction of cloudwatch and  cloudtrail" href="/blog/2023/05/12/Aws/cloudwatch-cloudtrail"><b>Read More</b></a></div></footer></article><div id="disqus_thread"></div><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2023/05/11/Aws/s3-basic-intro">aws s3 basic introduction and attach iam role to operate s3</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-05-11T00:00:00.000Z" itemprop="datePublished">May 11, 2023</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/suyuying" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/suyuying.png" alt="zaxro"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/suyuying" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">zaxro</span></a></div><small class="avatar__subtitle" itemprop="description">Life is too short to live someone else&#x27;s dream</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="basic-introduction">basic introduction<a href="#basic-introduction" class="hash-link" aria-label="Direct link to basic introduction" title="Direct link to basic introduction">​</a></h2><p>S3(simple storage service)負責檔案儲存跟管理,你可以當他是個 NAS,只是不用管理作業系統,跟監控他的機器狀況.
相比於 EBS(Elastic Block Store)需要跟 EC2 一起使用,S3 只需要做到資料管理部分！</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="儲存形式">儲存形式<a href="#儲存形式" class="hash-link" aria-label="Direct link to 儲存形式" title="Direct link to 儲存形式">​</a></h3><ul><li>standard storage:默認儲存類型,提供高持久性、高可用性和低延遲的存儲,適合各種使用案例</li><li>intelligent-tiering:根據數據的訪問模式自動將數據分類到適合的儲存層級，以實現成本效益和性能優化</li><li>Glacier:適用於需要長期保存的數據，但對訪問速度要求不高</li><li>Standard-IA:IA 適用於不常存取但需要在必要時進行快速存取的資料,非常適合長期儲存、備份和做為災難復原檔案的資料</li><li>one Zone IA: IA 適用於不常存取但需要在必要時進行快速存取的資料。它會將資料存放到單一 AZ 中，而且成本較 S3 標準 – IA 減少 20%。</li><li>Glacier-deep-Archieve:這是一種封存儲存類別，可提供最低成本的儲存和毫秒級擷取。針對不需要立即存取但需要靈活且免費擷取大型資料集的封存資料，例如備份或災難復原使用案例,資料擷取時間為 12-48 小時。</li><li>S3 Glacier Instant Retrieval:封存儲存類別，可為很少存取且需要在幾毫秒內擷取的長期資料提供最低成本的儲存。當您的資料每季度存取一次時，請使用 S3 Glacier Instant Retrieval</li></ul><p>簡單整理，S3 選擇一般使用就用 standard,如果可能是幾小時拿一次用 IA 系列,不擔心東西資源掛掉就放在 one-zone 省錢,如果是長期封存資料就考慮用 Glacier 系列.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="s3-vs-vpc">S3 vs VPC<a href="#s3-vs-vpc" class="hash-link" aria-label="Direct link to S3 vs VPC" title="Direct link to S3 vs VPC">​</a></h3><p>因為 S3 都是在 VPC 外建立,存取 S3 有兩種方式</p><ul><li>從網際網路存取 S3(透過 url 拿東西,這邊就不介紹)</li><li>從 VPC 當中伺服器存取 S3 檔案</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="從-vpc-當中伺服器存取-s3-檔案">從 VPC 當中伺服器存取 S3 檔案<a href="#從-vpc-當中伺服器存取-s3-檔案" class="hash-link" aria-label="Direct link to 從 VPC 當中伺服器存取 S3 檔案" title="Direct link to 從 VPC 當中伺服器存取 S3 檔案">​</a></h3><p>透過建立 IAM role,並將適當的 IAM policy 賦給該 IAM Role,並經該 role 指派給 ec2,就可以讓 EC2 透過暫時性的安全憑證向 S3 或其他 AWS 資源做請求！</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ec2-透過-vpc-endpoint-連結-s3">EC2 透過 VPC endpoint 連結 S3<a href="#ec2-透過-vpc-endpoint-連結-s3" class="hash-link" aria-label="Direct link to EC2 透過 VPC endpoint 連結 S3" title="Direct link to EC2 透過 VPC endpoint 連結 S3">​</a></h4><p><a href="https://docs.aws.amazon.com/zh_tw/AmazonS3/latest/userguide/privatelink-interface-endpoints.html" target="_blank" rel="noopener noreferrer">官網</a> ,主要優勢在於可以使用 VPC Endpoint 將 EC2 實例連接到 S3 資源，使其可以在 VPC 內部訪問 S3 而無需通過 Internet。這樣可以提高安全性並降低流量的出口。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="如何設定-role-給-ec2">如何設定 role 給 ec2<a href="#如何設定-role-給-ec2" class="hash-link" aria-label="Direct link to 如何設定 role 給 ec2" title="Direct link to 如何設定 role 給 ec2">​</a></h4><ul><li>打開 IAM 控制台並選擇「角色」。</li><li>點擊「創建角色」。</li><li>在選擇您的使用案例下，選擇「EC2」。</li><li>在「權限」頁面上，選擇您希望為 EC2 實例提供的權限，或創建自定義的 IAM 策略來指定您需要的權限。</li><li>在「標籤」頁面上，根據需要添加標籤，然後點擊「下一步」。</li><li>在「回顧」頁面上，為角色指定一個名稱，並選擇「創建角色」。
現在，您已經創建了一個 IAM 角色，接下來您需要將該角色附加到 EC2 實例上：</li></ul><p>打開 EC2 控制台並選擇您的實例：</p><ul><li>Actions -&gt;Security -&gt;modify iam role</li><li>選擇您創建的 IAM 角色，然後點擊「保存」。</li><li>基本上,等 s3 bucket 創建好以後就大功告成拉,實務上可以把開機要執行的腳本,透過拉取 s3 資源並使用！</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="s3-設定">S3 設定<a href="#s3-設定" class="hash-link" aria-label="Direct link to S3 設定" title="Direct link to S3 設定">​</a></h3><p>主要有三關會設定,這邊先不討論設定 CORS 那些設定</p><ol><li>公開存取設定: 這個其實是單純防呆設定,預設是完全禁止公開,所以通常是網頁資源就需要打開,單純給ＥＣ 2 拿東西可以不用公開</li><li>ACL of S3: 對各類使用者給予 List or Write or Read 等權限,不過預設是會有 bucket owner enforced 屬性,讓對 bucket 的存取單純由 Bucket policy 規範</li><li>Bucket Policy: 這個就是類似 IAM policy 制定規則方式,透過 EPCAR 去規範資源存取.</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="建立-bucket">建立 bucket<a href="#建立-bucket" class="hash-link" aria-label="Direct link to 建立 bucket" title="Direct link to 建立 bucket">​</a></h4><ol><li><p>登入 AWS 管理控制台，並打開 S3 服務。</p></li><li><p>在 S3 控制台的首頁上，點擊「創建存儲桶」。</p></li><li><p>在「名稱和區域設置」頁面上，為存儲桶指定一個唯一的名稱。請注意，存儲桶的名稱在全球範圍內必須是唯一的，且符合命名規則。您還可以選擇存儲桶所在的區域,在「設置選項」部分，您可以選擇適當的選項，如版本控制、加密和存儲桶日誌等。根據您的需求選擇相應的設置。</p></li><li><p>在「權限設置」部分，您可以為存儲桶指定存取權限。根據需求，可以選擇公共存取設置、存取控制清單（ACL）或存取策略。主要理解為啥會有三個要設定,存取策略是啥～</p></li><li><p>確認您的設置並點擊「創建存儲桶」。如果要改存檔類型,要點到指定文件-&gt; actions -&gt; Edit storage class -&gt;看到一堆類型囉！</p></li></ol></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/aws">AWS</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/s-3">S3</a></li></ul></div></footer></article><div id="disqus_thread"></div><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://github.com/suyuying.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2023/05/10/Others/interview-question">運維,DevOps,SRE常見問題</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-05-10T00:00:00.000Z" itemprop="datePublished">May 10, 2023</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/suyuying" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/suyuying.png" alt="zaxro"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/suyuying" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">zaxro</span></a></div><small class="avatar__subtitle" itemprop="description">Life is too short to live someone else&#x27;s dream</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sre">SRE<a href="#sre" class="hash-link" aria-label="Direct link to SRE" title="Direct link to SRE">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用過的-iac-工具">使用過的 IaC 工具<a href="#使用過的-iac-工具" class="hash-link" aria-label="Direct link to 使用過的 IaC 工具" title="Direct link to 使用過的 IaC 工具">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用過的域名證書管理工具">使用過的域名、證書管理工具<a href="#使用過的域名證書管理工具" class="hash-link" aria-label="Direct link to 使用過的域名、證書管理工具" title="Direct link to 使用過的域名、證書管理工具">​</a></h3><p>基本上這邊就看個人回答,工具部分有 certbot 可以做定期 renew 憑證!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="devops">DevOps<a href="#devops" class="hash-link" aria-label="Direct link to DevOps" title="Direct link to DevOps">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="雲端平台理解">雲端平台理解<a href="#雲端平台理解" class="hash-link" aria-label="Direct link to 雲端平台理解" title="Direct link to 雲端平台理解">​</a></h3><ul><li><p>IAM:</p></li><li><p>VPC:</p></li><li><p>peering connection</p></li><li><p>cloudwatch</p></li><li><p>cloudtrail</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="請問心目中理想-pipeline">請問心目中理想 pipeline!<a href="#請問心目中理想-pipeline" class="hash-link" aria-label="Direct link to 請問心目中理想 pipeline!" title="Direct link to 請問心目中理想 pipeline!">​</a></h3><p>理想的 CI/CD pipeline 應該具有自動化、快速、可靠且能快速反饋.</p><ul><li>自動化:基本上滿直觀得,跑 CI/CD 就是希望減少手動,所以盡量要讓所有過程自動</li><li>快速部分:各家 CI 會有不同配置,主要是透過檢視流程,讓沒有相依性的 jobs 可以平行處理,並適當使用 cache,減小使用的 image size 等等.</li><li>可靠: pipline 流程設計要有一致性,部署的環境跟資料源穩定</li><li>快速反饋: 將過程成功或失敗,透過 webhook 或其他方式發送到通訊平台</li></ul><p>ps: pipline 過程</p><ul><li>code management: 程式碼依規定建立分支,tag,commit 放入版本控制系統,</li><li>Build: 將檔案進行編譯</li><li>自動測試：包含單元測試,整合測試,確定新開發的 function 功能不會破壞既有功能</li><li>(optional)建 image 並推到 registry: 這適用於用 container 部署的項目</li><li>部署到測試環境: 環境可能有很多個,如果用 ec2 之類是用 ssh 做部署(可以配合 ansible 腳本),如果是 image 就有需要並執行的過程！</li><li>驗證: 對於新開發功能進行驗證,確認功能正常,符合需求</li><li>部署到 production</li><li>監控:這牽涉到硬體跟服務的日誌監控跟分析</li><li>Rollback: ㄧ旦發現要能進行 rollback</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="如何提升系統穩定性ex-證券業降低伺服器意外故障風險">如何提升系統穩定性（ex 證券業）,降低伺服器意外故障風險？<a href="#如何提升系統穩定性ex-證券業降低伺服器意外故障風險" class="hash-link" aria-label="Direct link to 如何提升系統穩定性（ex 證券業）,降低伺服器意外故障風險？" title="Direct link to 如何提升系統穩定性（ex 證券業）,降低伺服器意外故障風險？">​</a></h3><p>雲端部分,的確是會遇到某個 AZ 機器突然掛掉的問題,畢竟他對機器保障的 down time 本來就不是 100%,如果是用 VM 之類起服務,可以在將服務部署在同一 Region 的各 AZ 中,即使一個 VM 掛了,其他的也可以提供服務！ 地端機器也是同樣概念！</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="運維">運維<a href="#運維" class="hash-link" aria-label="Direct link to 運維" title="Direct link to 運維">​</a></h2><p>基本上,他就是全包所有東東(除了開發),著重維護底層,或許會碰到部署,所以基本上要有以下觀念</p><ul><li>監控系統建立跟操作: 一般硬體,process 監控,port 監控,常用資源:Zabbix,Grafana,Prometheus</li><li>日誌系統: 日誌系統收集跟傳輸資訊:filebeat,日誌系統分析:ELK,Graylog.</li><li>資料庫管理: 設計，管理和維護資料庫，包括備份和恢復，性能優化，安全管理等。</li><li>網路管理: 維護和管理網絡設備，如交換機，路由器和防火牆。包括設置網絡拓撲，網絡設置和配置，網絡性能優化和維護,包含雲端跟地端.</li><li>安全性管理: 確保系統和數據得到妥善保護，防止未經授權的訪問和數據洩漏,包含防毒安裝.</li><li>軟體管理: 軟體部署,跟版本管理等</li><li>資料備份和災難恢復: 確保所有資料都能夠備份和恢復,並建立計畫並測試.</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/運維">運維</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/dev-ops">DevOps</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/sre">SRE</a></li></ul></div></footer></article><div id="disqus_thread"></div><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2023/05/03/IaC/yml-syntax">YAML語法結構介紹</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-05-03T00:00:00.000Z" itemprop="datePublished">May 3, 2023</time> · <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/suyuying" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/suyuying.png" alt="zaxro"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/suyuying" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">zaxro</span></a></div><small class="avatar__subtitle" itemprop="description">Life is too short to live someone else&#x27;s dream</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="yaml-and-json">yaml and json<a href="#yaml-and-json" class="hash-link" aria-label="Direct link to yaml and json" title="Direct link to yaml and json">​</a></h2><p>Yaml 跟 Json 都是用於日常進行資料處理,Json 相信大家很熟了,前後端資料溝通最常用到的就是 Json,因為他跟 python 的 dict 格式超像,所以熟悉 json 也很快,差別在前者是 python 物件,後者是有固定格式且方便機器解析的純文字的數據交換格式,規則是名稱寫在雙引號內，值可以是字符串、數字、對象、數組、布爾值或 null。</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">json基本範例</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-property property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;John&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-property property" style="color:#36acaa">&quot;age&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-property property" style="color:#36acaa">&quot;city&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;New York&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-property property" style="color:#36acaa">&quot;hobbies&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;reading&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;music&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sports&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-property property" style="color:#36acaa">&quot;isMarried&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-property property" style="color:#36acaa">&quot;spouse&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Yaml 相對於 Json 來說,對我個人而言,在表達複雜資料結構上,例如多層次的陣列,更好了解一些,主要使用縮排和簡潔的語法來表示結構和層次.</p><p>基本語法重點:</p><ul><li>有---開頭,通常就是 yml 格式,但沒強制要加</li><li>使用縮排表示層級</li><li>使用空格做縮排,,建議使用 2 或 4 個空格,不建議用 tab</li><li>字符串不用加引號,在可能產生歧義時,需加單引號 or 雙引號.(單引號包圍字符串時，會將特殊符號保留。雙引號包圍字符串時，反斜線需要額外進行轉義。)</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">## 以下key3等於key4,注意使用單引號跟雙引號差別</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- key3: &#x27;\.php$&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- key4: &quot;\\.php$&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>支持多種數據類型，包括字典、列表、布爾值、整數、浮點數等。</li><li>用# 註解</li></ul><p>關於歧義這點,近一步說明:
使用 &quot;:&quot; 字符時，可能會被解析成 key-value 的形式，需要加引號來避免歧義。
字符串包含 &quot;-&quot; 字符時，可能被解析成列表中的項目，需要加引號來避免歧義。
字符串包含 &quot;#&quot; 字符時，可能被解析成注釋，需要加引號來避免歧義。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 不用引號</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">key: value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 需要加引號避免歧義</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">key: &quot;value:with:colon&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 需要加引號避免歧義</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">key: &quot;value-with-dash&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 不用引號(但是為了避免麻煩,遇到#都習慣加引號吧)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">key: &quot;#no-comments&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 需要加引號避免歧義</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">key: &quot;# comments&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="yaml-數據結構">yaml 數據結構<a href="#yaml-數據結構" class="hash-link" aria-label="Direct link to yaml 數據結構" title="Direct link to yaml 數據結構">​</a></h3><p>yml 支持多種數據類型，包括字典、列表、布爾值、整數、浮點數等.</p><p>這邊建議可以安裝 yq 把 yml 解析成 json,方便習慣用 json 得人了解 yml.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pip3 install yq</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>接下來會了解字典、列表、Boolean、整數、浮點數如何表達,以下的 yml 用法跟出現的 json 是相同意思的！</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="字典">字典<a href="#字典" class="hash-link" aria-label="Direct link to 字典" title="Direct link to 字典">​</a></h4><p>以下二者相等</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">yaml dict</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Helloworld</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">json dict</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;junmajinlong&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="列表">列表<a href="#列表" class="hash-link" aria-label="Direct link to 列表" title="Direct link to 列表">​</a></h4><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">yaml list</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> lang1</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Shell</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> lang2</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">JS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> lang3</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Python</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">json list</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">mylang</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Shell&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">mylang2</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;JS&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">mylang3</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Python&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="boolean">boolean<a href="#boolean" class="hash-link" aria-label="Direct link to boolean" title="Direct link to boolean">​</a></h4><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">yaml boolean</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">is_published</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">is_featured</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">json boolean</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;is_active&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;is_admin&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="yml-的-dict-跟-list-混合表達">yml 的 dict 跟 list 混合表達<a href="#yml-的-dict-跟-list-混合表達" class="hash-link" aria-label="Direct link to yml 的 dict 跟 list 混合表達" title="Direct link to yml 的 dict 跟 list 混合表達">​</a></h4><p>這個格式在 docker 跟 ansible 之類很常見,其實他是這樣滴！</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">yaml dict and list</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 值是純list</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">有三個</span><span class="token operator" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">所以有三個元素</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">languages</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token maybe-class-name">Shell</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">JS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token maybe-class-name">Python</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 值是dict </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">因為只有一個</span><span class="token operator" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">代表只有一個元素</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">該元素type為dict</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">services</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">status</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> running</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">json dict and list</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;languages&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;Shell&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;JS&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;Python&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;services&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string-property property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;nginx&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string-property property" style="color:#36acaa">&quot;status&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;running&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>到這邊,基本上對 yml 就有一定熟悉度,在寫 config 時,腦袋也跟著跑出 json 的檔案範例.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/yml">yml</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/config">config</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about YAML語法結構介紹" href="/blog/2023/05/03/IaC/yml-syntax"><b>Read More</b></a></div></footer></article><div id="disqus_thread"></div><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2023/04/30/IaC/importance-of-IaC">The importance of IaC</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-04-30T00:00:00.000Z" itemprop="datePublished">April 30, 2023</time> · <!-- -->11 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/suyuying" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/suyuying.png" alt="zaxro"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/suyuying" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">zaxro</span></a></div><small class="avatar__subtitle" itemprop="description">Life is too short to live someone else&#x27;s dream</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>基本上我學新的工具都會先做幾件事情</p><ol><li>中文 google 搜尋看有哪些資源</li><li>乖乖把官網教學文章看過一遍,以及官網的一些重要的基礎文章看完</li></ol><p>基本上都會先看官網文件,如果官網怎麼看都不懂,會用中文的教學文件輔助,還好,terraform 的教學文件很不錯～
當基本資料學完之後,以我的資質一定還是很不熟,所以接著會做幾件事情</p><ol><li>寫篇文件把基本型態,跟常用方式整理一下(像這篇)</li><li>參考別人的實戰教學</li><li>實作</li></ol><p>這邊,每件都很重要,把你懂的事情記錄下來有很多好處</p><ul><li>你未來遇到事情可以複習</li><li>如果以前觀念錯誤可以改正</li><li>要找人討論事情或求教,他可以透過文章先了解你的程度</li></ul><p>參考別人實戰經驗可以減少自己踩坑機率！</p><p>最後,學東西就是要實作,不實作或導入,那有學跟沒學一樣!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="iac-常見管理項目">IaC 常見管理項目<a href="#iac-常見管理項目" class="hash-link" aria-label="Direct link to IaC 常見管理項目" title="Direct link to IaC 常見管理項目">​</a></h2><p>一個網路服務的提供,中間會經過許多關卡,這邊大致整理以下:</p><ol><li>軟體開發或者更新</li><li>測試環境部署並測試</li><li>正式環境上線</li><li>監控環境</li></ol><p>看幾來步驟很少,但實際上細節很多,而且隨著公司技術程度越高,這些過程會被切得越複雜.</p><p>軟體開發或者更新的過程,會被切割成,依據 github flow(每家邏輯不同)對各需求,建立不同分支,RD 的 code 推上來之後,要確保品質會經過測試階段,最後合 code,接下來就是把 code 部署到測試環境部署並測試,測試沒問題就會部署到正式環境.</p><p>code 的穩定性那段由 CI 管理,部署過程是 CD,而部署有許多方法,但討論 CD 如何做需要從根本『環境』開使談起,要怎麼選擇你的運算資源這個問題很常見,aws 官方提供的講解如以下</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ia-c">IaC</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about The importance of IaC" href="/blog/2023/04/30/IaC/importance-of-IaC"><b>Read More</b></a></div></footer></article><div id="disqus_thread"></div><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog"><div class="pagination-nav__label">Newer Entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/page/3"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div><footer class="font-sans container-fluid bg-gray-900 text-stone-200 pt-6 footer--dark"><div style="transform:translateX(-100%)" class="fixed bottom-0 left-0 h-1 w-full bg-indigo-600 backdrop-blur-3xl transition-transform duration-300 text-right text-white text-sm"></div><div class="container container-fluid"><div class="row footer__links mb-0"><div class="flex flex-wrap flex-col mb-2 w-1/3 items-baseline"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="flex flex-wrap flex-col mb-2 w-1/3 items-baseline"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="flex flex-wrap flex-col mb-2 w-1/3 items-baseline"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/suyuying" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.fb30eb49.js"></script>
<script src="/assets/js/main.c93c9161.js"></script>
</body>
</html>